<!-- Bootstrap v3.0.3 -->
<link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet" />
<section class="container" style="padding: 10px 10px; font-family: Verdana, Geneva, sans-serif; color:#333333; font-size:0.9em;">
<div class="row col-md-12"><!-- Instructions -->
<div class="panel panel-primary">
<div class="panel-heading"><strong>Instructions</strong></div>

<div class="panel-body">
<p>Each task contains two terms that might be related to each other in some way. Select ALL options that apply to these terms. In some cases, you will need to motivate your answer.</p>

<p><i>The example sentences may help you understand the terms and their relation(s).</i></p>
</div>
</div>
<!-- End Instructions --><!-- Survey Body -->

<section>
<div class="panel panel-primary" id="examples">
<div class="panel-heading"><strong>Examples</strong></div>

<div class="panel-body">
<div class="example">{{examples_passage1}}</div>

<div class="example">{{examples_passage2}}</div>
</div>
</div>
</section>
</div>

<fieldset id="q1"><label>1. What is the relation between <span class="hv t1">{{terms_focus}}</span> and <span class="hv t2">{{terms_candidate}}</span>? Select ALL that apply:</label>

<div class="checkbox" style="margin-top:10px;"><label><input class="highlighter" name="answer" type="checkbox" value="atypeofb" /><span class="t1">{{terms_focus}}</span> is a <b>type</b> of <span class="t2">{{terms_candidate}}</span> <span class="ex">(e.g. Yacht and Boat)</span></label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="btypeofa" /><span class="t2">{{terms_candidate}}</span> is a <b>type</b> of <span class="t1">{{terms_focus}}</span></label></div>

<div class="checkbox" style="margin-bottom:20px;"><label><input class="highlighter" name="answer" type="checkbox" value="sametype" /><span class="t1">{{terms_focus}}</span> and <span class="t2">{{terms_candidate}}</span> are of the <b>same type</b> <span class="ex">(e.g. Lion and Tiger)</span></label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="aabbrofb" /><span class="t1">{{terms_focus}}</span> is an <b>abbreviation</b> of <span class="t2">{{terms_candidate}}</span></label></div>

<div class="checkbox" style="margin-bottom:20px;"><label><input class="highlighter" name="answer" type="checkbox" value="babbrofa" /><span class="t2">{{terms_candidate}}</span> is an <b>abbreviation</b> of <span class="t1">{{terms_focus}}</span> <span class="ex">(e.g. Dr and Doctor)</span></label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="synonym" /><span class="t1">{{terms_focus}}</span> is a <b>synonym</b> (the same) of <span class="t2">{{terms_candidate}}</span> <span class="ex">(e.g. Big and Large)</span></label></div>

<div class="checkbox" style="margin-bottom:20px;"><label><input class="highlighter" name="answer" type="checkbox" value="antonym" /><span class="t1">{{terms_focus}}</span> is an <b>antonym</b> (the opposite) of <span class="t2">{{terms_candidate}}</span> <span class="ex">(e.g. Hot and Cold)</span></label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="related" /><span class="t1">{{terms_focus}}</span> is <b>associated</b> to <span class="t2">{{terms_candidate}}</span> <span class="ex">(e.g. Boat and Harbor)</span></label></div>

<div class="checkbox"><label><input class="highlighter" id="none" name="answer" type="checkbox" value="none" /><b>None</b> of the above</label></div>
</fieldset>

<fieldset id="q2">
<div class="notPossible"><img class="indent" src="data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP///////wAAACH5BAUUAAIALAAAAAAQABAAAAIZlI+py8EPEYiUzYrPzXgbT4GaMJVkh3JIAQA7" /><label class="legend">Please explain why:</label>

<div class="checkbox" style="margin-top:10px;"><label><input class="highlighter" name="answer" type="checkbox" value="notrelated" /><span class="t1">{{terms_focus}}</span> and <span class="t2">{{terms_candidate}}</span> are <b>not related</b> at all</label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="ambiguousa" /><span class="t1">{{terms_focus}}</span> is an <b>ambiguous</b> term</label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="ambiguousb" /><span class="t2">{{terms_candidate}}</span> is an <b>ambiguous</b> term</label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="notclear" />The example sentences are <b>not clear</b></label></div>

<div class="checkbox"><label><input class="highlighter" name="answer" type="checkbox" value="other" /><b>Other:</b> <input id="other" name="other" pattern=".{20,}" required="" size="100" title="Please explain your answer" type="text" /></label></div>
</div>
</fieldset>
<!-- End Survey Body --><input class="btn btn-primary" id="submitButton" type="Submit" value="Submit" /></section>
<!-- close container -->
<style type="text/css">fieldset {
    background:#fbfbfb;
    border-radius:5px;
padding: 5px;
}
.checkbox {
margin-bottom:10px;
margin-top:0px;
padding: 5px 0 5px 30px;
-webkit-border-radius: 5px;
-moz-border-radius: 5px;
border-radius: 5px;
}

#examples {
position:absolute;
width:350px;
right:15px;
top:250px;
}

.example {
margin-bottom:10px;
text-align: justify;
line-height:22px;
}

.ex {
font-size: 10px;
font-style: italic;
line-height:10px;
}

.t1 {
font-weight: bold;
color: #6666CD;
}

.t2 {
font-weight: bold;
color: #CD6666;
}

.hv {
border-bottom: 1px dotted #666;
padding-bottom: 3px;
}

.notPossible textarea { width: 95%; max-width:700px; height: 108px;}
.notPossible { display:none; padding-left:20px; position:relative; margin-left: 12px; }
.indent { position:absolute; left:0px; top:0px; }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script><script>
$('.highlighter').on('change', function() {

if($('#none').is(':checked')) {
  $('.notPossible').slideDown();
} else {
  $('.notPossible').slideUp();
}

if($('.highlighter[value=other]').is(':checked')) {
  $('#other').prop('required',true);
} else {
  $('#other').prop('required',false);
}

    var that = this;
    $(this).parents('.checkbox').css("background-color", function() {
        return that.checked ? "#99FF99" : "";
    });
});

// highlight terms in the example passages
$('.example').html(function(i, val) {
	val = val.replace(/{/g, "<span class='t1'>").replace(/}/g, "</span>");
	val = val.replace(/\[/g, "<span class='t2'>").replace(/\]/g, "</span>");
	return val;
});

// if input field other is selected, it must become required
$('#other').terms_focus(function() {
  $('#other').prop('required','true');
  $('.highlighter[value=other]').prop("checked", true).parents('.checkbox').css("background-color", "#99FF99");
});

// submit input validation
$('#submitButton').parents('form').submit(function(e) {
if(!$("#q1 .highlighter").is(":checked") || ($("#q1 .highlighter[value=none]").is(":checked") && !$("#q2 .highlighter").is(":checked")) || ($('#other').val().length < 20 && $('#other').prop('required') == 'true')) {
  alert( "Please read the instructions and answer the questions in each step." );
  e.preventDefault();
}
});
</script>