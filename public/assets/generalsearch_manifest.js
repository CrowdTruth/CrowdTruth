this.Handlebars=(function(){var __module4__=(function(){"use strict";var __exports__
function SafeString(string){this.string=string};SafeString.prototype.toString=function(){return""+this.string};__exports__=SafeString;return __exports__})(),__module3__=(function(__dependency1__){"use strict";var __exports__={},SafeString=__dependency1__,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},badChars=/[&<>"'`]/g,possible=/[&<>"'`]/
function escapeChar(chr){return escape[chr]||"&amp;"}
function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])if(Object.prototype.hasOwnProperty.call(arguments[i],key))obj[key]=arguments[i][key];return obj};__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return typeof value==='function'};if(isFunction(/x/))isFunction=function(value){return typeof value==='function'&&toString.call(value)==='[object Function]'};var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return(value&&typeof value==='object')?toString.call(value)==='[object Array]':false};__exports__.isArray=isArray
function escapeExpression(string){if(string instanceof SafeString){return string.toString()}else if(!string&&string!==0)return"";string=""+string;if(!possible.test(string))return string;return string.replace(badChars,escapeChar)};__exports__.escapeExpression=escapeExpression
function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else return false};__exports__.isEmpty=isEmpty
function appendContextPath(contextPath,id){return(contextPath?contextPath+'.':'')+id};__exports__.appendContextPath=appendContextPath;return __exports__})(__module4__),__module5__=(function(){"use strict";var __exports__,errorProps=['description','fileName','lineNumber','message','name','number','stack']
function Exception(message,node){var line;if(node&&node.firstLine){line=node.firstLine;message+=' - '+line+':'+node.firstColumn};var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];if(line){this.lineNumber=line;this.column=node.firstColumn}};Exception.prototype=new Error();__exports__=Exception;return __exports__})(),__module2__=(function(__dependency1__,__dependency2__){"use strict";var __exports__={},Utils=__dependency1__,Exception=__dependency2__,VERSION="2.0.0-alpha.2";__exports__.VERSION=VERSION;var COMPILER_REVISION=5;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:'<= 1.0.rc.2',2:'== 1.0.0-rc.3',3:'== 1.0.0-rc.4',4:'== 1.x.x',5:'>= 2.0.0'};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType='[object Object]'
function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{};this.partials=partials||{};registerDefaultHelpers(this)};__exports__.HandlebarsEnvironment=HandlebarsEnvironment;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn)throw new Exception('Arg not supported with multiple helpers');Utils.extend(this.helpers,name)}else{if(inverse)fn.not=inverse;this.helpers[name]=fn}},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,str){if(toString.call(name)===objectType){Utils.extend(this.partials,name)}else this.partials[name]=str},unregisterPartial:function(name){delete this.partials[name]}}
function registerDefaultHelpers(instance){instance.registerHelper('helperMissing',function(){if(arguments.length===1){return undefined}else throw new Exception("Missing helper: '"+arguments[arguments.length-1].name+"'")});instance.registerHelper('blockHelperMissing',function(context,options){var inverse=options.inverse||function(){},fn=options.fn;if(isFunction(context))context=context.call(this);if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(isArray(context)){if(context.length>0){if(options.ids)options.ids=[options.name];return instance.helpers.each(context,options)}else return inverse(this)}else{if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.name);options={data:data}};return fn(context,options)}});instance.registerHelper('each',function(context,options){if(!options){options=context;context=this};var fn=options.fn,inverse=options.inverse,i=0,ret="",data,contextPath;if(options.data&&options.ids)contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0])+'.';if(isFunction(context))context=context.call(this);if(options.data)data=createFrame(options.data);if(context&&typeof context==='object')if(isArray(context)){for(var j=context.length;i<j;i++){if(data){data.index=i;data.first=(i===0);data.last=(i===(context.length-1));if(contextPath)data.contextPath=contextPath+i};ret=ret+fn(context[i],{data:data})}}else for(var key in context)if(context.hasOwnProperty(key)){if(data){data.key=key;data.index=i;data.first=(i===0);if(contextPath)data.contextPath=contextPath+key};ret=ret+fn(context[key],{data:data});i++};if(i===0)ret=inverse(this);return ret});instance.registerHelper('if',function(conditional,options){if(isFunction(conditional))conditional=conditional.call(this);if((!options.hash.includeZero&&!conditional)||Utils.isEmpty(conditional)){return options.inverse(this)}else return options.fn(this)});instance.registerHelper('unless',function(conditional,options){return instance.helpers['if'].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})});instance.registerHelper('with',function(context,options){if(isFunction(context))context=context.call(this);var fn=options.fn;if(!Utils.isEmpty(context)){if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0]);options={data:data}};return fn(context,options)}});instance.registerHelper('log',function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context)});instance.registerHelper('lookup',function(obj,field,options){return obj&&obj[field]})};var logger={methodMap:{0:'debug',1:'info',2:'warn',3:'error'},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];if(typeof console!=='undefined'&&console[method])console[method].call(console,obj)}}};__exports__.logger=logger
function log(level,obj){logger.log(level,obj)};__exports__.log=log;var createFrame=function(object){var frame=Utils.extend({},object);frame._parent=object;return frame};__exports__.createFrame=createFrame;return __exports__})(__module3__,__module5__),__module6__=(function(__dependency1__,__dependency2__,__dependency3__){"use strict";var __exports__={},Utils=__dependency1__,Exception=__dependency2__,COMPILER_REVISION=__dependency3__.COMPILER_REVISION,REVISION_CHANGES=__dependency3__.REVISION_CHANGES,createFrame=__dependency3__.createFrame
function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision)if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")};__exports__.checkRevision=checkRevision
function template(templateSpec,env){if(!env)throw new Exception("No environment passed to template");env.VM.checkRevision(templateSpec.compiler);var invokePartialWrapper=function(partial,name,context,hash,helpers,partials,data){if(hash)context=Utils.extend({},context,hash);var result=env.VM.invokePartial.call(this,partial,name,context,helpers,partials,data);if(result!=null)return result;if(env.compile){var options={helpers:helpers,partials:partials,data:data};partials[name]=env.compile(partial,{data:data!==undefined},env);return partials[name](context,options)}else throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")},container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){return templateSpec[i]},programs:[],program:function(i,data){var programWrapper=this.programs[i],fn=this.fn(i);if(data){programWrapper=program(this,i,fn,data)}else if(!programWrapper)programWrapper=this.programs[i]=program(this,i,fn);return programWrapper},programWithDepth:env.VM.programWithDepth,initData:function(context,data){if(!data||!('root'in data)){data=data?createFrame(data):{};data.root=context};return data},data:function(data,depth){while(data&&depth--)data=data._parent;return data},merge:function(param,common){var ret=param||common;if(param&&common&&(param!==common))ret=Utils.extend({},common,param);return ret},noop:env.VM.noop,compilerInfo:templateSpec.compiler},ret=function(context,options){options=options||{};var namespace=options.partial?options:env,helpers,partials,data=options.data;if(!options.partial){helpers=container.helpers=container.merge(options.helpers,namespace.helpers);if(templateSpec.usePartial)partials=container.partials=container.merge(options.partials,namespace.partials);if(templateSpec.useData)data=container.initData(context,data)}else{helpers=container.helpers=options.helpers;partials=container.partials=options.partials};return templateSpec.main.call(container,context,helpers,partials,data)};ret.child=function(i){return container.programWithDepth(i)};return ret};__exports__.template=template
function programWithDepth(i,data){var args=Array.prototype.slice.call(arguments,2),container=this,fn=container.fn(i),prog=function(context,options){options=options||{};return fn.apply(container,[context,container.helpers,container.partials,options.data||data].concat(args))};prog.program=i;prog.depth=args.length;return prog};__exports__.programWithDepth=programWithDepth
function program(container,i,fn,data){var prog=function(context,options){options=options||{};return fn.call(container,context,container.helpers,container.partials,options.data||data)};prog.program=i;prog.depth=0;return prog};__exports__.program=program
function invokePartial(partial,name,context,helpers,partials,data){var options={partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Exception("The partial "+name+" could not be found")}else if(partial instanceof Function)return partial(context,options)};__exports__.invokePartial=invokePartial
function noop(){return""};__exports__.noop=noop;return __exports__})(__module3__,__module5__,__module2__),__module1__=(function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__,base=__dependency1__,SafeString=__dependency2__,Exception=__dependency3__,Utils=__dependency4__,runtime=__dependency5__,create=function(){var hb=new base.HandlebarsEnvironment();Utils.extend(hb,base);hb.SafeString=SafeString;hb.Exception=Exception;hb.Utils=Utils;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb},Handlebars=create();Handlebars.create=create;__exports__=Handlebars;return __exports__})(__module2__,__module4__,__module5__,__module3__,__module6__),__module7__=(function(__dependency1__){"use strict";var __exports__,Exception=__dependency1__
function LocationInfo(locInfo){locInfo=locInfo||{};this.firstLine=locInfo.first_line;this.firstColumn=locInfo.first_column;this.lastColumn=locInfo.last_column;this.lastLine=locInfo.last_line};var AST={ProgramNode:function(statements,inverseStrip,inverse,locInfo){var inverseLocationInfo,firstInverseNode;if(arguments.length===3){locInfo=inverse;inverse=null}else if(arguments.length===2){locInfo=inverseStrip;inverseStrip=null};LocationInfo.call(this,locInfo);this.type="program";this.statements=statements;this.strip={};if(inverse){firstInverseNode=inverse[0];if(firstInverseNode){inverseLocationInfo={first_line:firstInverseNode.firstLine,last_line:firstInverseNode.lastLine,last_column:firstInverseNode.lastColumn,first_column:firstInverseNode.firstColumn};this.inverse=new AST.ProgramNode(inverse,inverseStrip,inverseLocationInfo)}else this.inverse=new AST.ProgramNode(inverse,inverseStrip);this.strip.right=inverseStrip.left}else if(inverseStrip)this.strip.left=inverseStrip.right},MustacheNode:function(rawParams,hash,open,strip,locInfo){LocationInfo.call(this,locInfo);this.type="mustache";this.strip=strip;if(open!=null&&open.charAt){var escapeFlag=open.charAt(3)||open.charAt(2);this.escaped=escapeFlag!=='{'&&escapeFlag!=='&'}else this.escaped=!!open;if(rawParams instanceof AST.SexprNode){this.sexpr=rawParams}else this.sexpr=new AST.SexprNode(rawParams,hash);this.sexpr.isRoot=true;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(rawParams,hash,locInfo){LocationInfo.call(this,locInfo);this.type="sexpr";this.hash=hash;var id=this.id=rawParams[0],params=this.params=rawParams.slice(1);this.isHelper=params.length||hash;this.eligibleHelper=this.isHelper||id.isSimple},PartialNode:function(partialName,context,hash,strip,locInfo){LocationInfo.call(this,locInfo);this.type="partial";this.partialName=partialName;this.context=context;this.hash=hash;this.strip=strip},BlockNode:function(mustache,program,inverse,close,locInfo){LocationInfo.call(this,locInfo);if(mustache.sexpr.id.original!==close.path.original)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close.path.original,this);this.type='block';this.mustache=mustache;this.program=program;this.inverse=inverse;this.strip={left:mustache.strip.left,right:close.strip.right};(program||inverse).strip.left=mustache.strip.right;(inverse||program).strip.right=close.strip.left;if(inverse&&!program)this.isInverse=true},RawBlockNode:function(mustache,content,close,locInfo){LocationInfo.call(this,locInfo);if(mustache.sexpr.id.original!==close)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close,this);content=new AST.ContentNode(content,locInfo);this.type='block';this.mustache=mustache;this.program=new AST.ProgramNode([content],locInfo)},ContentNode:function(string,locInfo){LocationInfo.call(this,locInfo);this.type="content";this.string=string},HashNode:function(pairs,locInfo){LocationInfo.call(this,locInfo);this.type="hash";this.pairs=pairs},IdNode:function(parts,locInfo){LocationInfo.call(this,locInfo);this.type="ID";var original="",dig=[],depth=0,depthString='';for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part;original+=(parts[i].separator||'')+part;if(part===".."||part==="."||part==="this"){if(dig.length>0){throw new Exception("Invalid path: "+original,this)}else if(part===".."){depth++;depthString+='../'}else this.isScoped=true}else dig.push(part)};this.original=original;this.parts=dig;this.string=dig.join('.');this.depth=depth;this.idName=depthString+this.string;this.isSimple=parts.length===1&&!this.isScoped&&depth===0;this.stringModeValue=this.string},PartialNameNode:function(name,locInfo){LocationInfo.call(this,locInfo);this.type="PARTIAL_NAME";this.name=name.original},DataNode:function(id,locInfo){LocationInfo.call(this,locInfo);this.type="DATA";this.id=id;this.stringModeValue=id.stringModeValue;this.idName='@'+id.stringModeValue},StringNode:function(string,locInfo){LocationInfo.call(this,locInfo);this.type="STRING";this.original=this.string=this.stringModeValue=string},NumberNode:function(number,locInfo){LocationInfo.call(this,locInfo);this.type="NUMBER";this.original=this.number=number;this.stringModeValue=Number(number)},BooleanNode:function(bool,locInfo){LocationInfo.call(this,locInfo);this.type="BOOLEAN";this.bool=bool;this.stringModeValue=bool==="true"},CommentNode:function(comment,locInfo){LocationInfo.call(this,locInfo);this.type="comment";this.comment=comment}};__exports__=AST;return __exports__})(__module5__),__module9__=(function(){"use strict";var __exports__,handlebars=(function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openRawBlock:9,CONTENT:10,END_RAW_BLOCK:11,openInverse:12,closeBlock:13,openBlock:14,mustache:15,partial:16,COMMENT:17,OPEN_RAW_BLOCK:18,sexpr:19,CLOSE_RAW_BLOCK:20,OPEN_BLOCK:21,CLOSE:22,OPEN_INVERSE:23,OPEN_ENDBLOCK:24,path:25,OPEN:26,OPEN_UNESCAPED:27,CLOSE_UNESCAPED:28,OPEN_PARTIAL:29,partialName:30,param:31,partial_option0:32,partial_option1:33,sexpr_repetition0:34,sexpr_option0:35,dataName:36,STRING:37,NUMBER:38,BOOLEAN:39,OPEN_SEXPR:40,CLOSE_SEXPR:41,hash:42,hash_repetition_plus0:43,hashSegment:44,ID:45,EQUALS:46,DATA:47,pathSegments:48,SEP:49,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",10:"CONTENT",11:"END_RAW_BLOCK",17:"COMMENT",18:"OPEN_RAW_BLOCK",20:"CLOSE_RAW_BLOCK",21:"OPEN_BLOCK",22:"CLOSE",23:"OPEN_INVERSE",24:"OPEN_ENDBLOCK",26:"OPEN",27:"OPEN_UNESCAPED",28:"CLOSE_UNESCAPED",29:"OPEN_PARTIAL",37:"STRING",38:"NUMBER",39:"BOOLEAN",40:"OPEN_SEXPR",41:"CLOSE_SEXPR",45:"ID",46:"EQUALS",47:"DATA",49:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[9,3],[14,3],[12,3],[13,3],[15,3],[15,3],[16,5],[16,4],[7,2],[19,3],[19,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[42,1],[44,3],[30,1],[30,1],[30,1],[36,2],[25,1],[48,3],[48,1],[32,0],[32,1],[33,0],[33,1],[34,0],[34,2],[35,0],[35,1],[43,1],[43,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return new yy.ProgramNode($$[$0-1],this._$);break;case 2:return new yy.ProgramNode([],this._$);break;case 3:this.$=new yy.ProgramNode([],$$[$0-1],$$[$0],this._$);break;case 4:this.$=new yy.ProgramNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 5:this.$=new yy.ProgramNode($$[$0-1],$$[$0],[],this._$);break;case 6:this.$=new yy.ProgramNode($$[$0],this._$);break;case 7:this.$=new yy.ProgramNode([],this._$);break;case 8:this.$=new yy.ProgramNode([],this._$);break;case 9:this.$=[$$[$0]];break;case 10:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 11:this.$=new yy.RawBlockNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 12:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0],this._$);break;case 13:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0],this._$);break;case 14:this.$=$$[$0];break;case 15:this.$=$$[$0];break;case 16:this.$=new yy.ContentNode($$[$0],this._$);break;case 17:this.$=new yy.CommentNode($$[$0],this._$);break;case 18:this.$=new yy.MustacheNode($$[$0-1],null,'','',this._$);break;case 19:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 20:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 21:this.$={path:$$[$0-1],strip:stripFlags($$[$0-2],$$[$0])};break;case 22:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 23:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 24:this.$=new yy.PartialNode($$[$0-3],$$[$0-2],$$[$0-1],stripFlags($$[$0-4],$$[$0]),this._$);break;case 25:this.$=new yy.PartialNode($$[$0-2],undefined,$$[$0-1],stripFlags($$[$0-3],$$[$0]),this._$);break;case 26:this.$=stripFlags($$[$0-1],$$[$0]);break;case 27:this.$=new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 28:this.$=new yy.SexprNode([$$[$0]],null,this._$);break;case 29:this.$=$$[$0];break;case 30:this.$=new yy.StringNode($$[$0],this._$);break;case 31:this.$=new yy.NumberNode($$[$0],this._$);break;case 32:this.$=new yy.BooleanNode($$[$0],this._$);break;case 33:this.$=$$[$0];break;case 34:$$[$0-1].isHelper=true;this.$=$$[$0-1];break;case 35:this.$=new yy.HashNode($$[$0],this._$);break;case 36:this.$=[$$[$0-2],$$[$0]];break;case 37:this.$=new yy.PartialNameNode($$[$0],this._$);break;case 38:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 39:this.$=new yy.PartialNameNode(new yy.NumberNode($$[$0],this._$));break;case 40:this.$=new yy.DataNode($$[$0],this._$);break;case 41:this.$=new yy.IdNode($$[$0],this._$);break;case 42:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]});this.$=$$[$0-2];break;case 43:this.$=[{part:$$[$0]}];break;case 48:this.$=[];break;case 49:$$[$0-1].push($$[$0]);break;case 52:this.$=[$$[$0]];break;case 53:$$[$0-1].push($$[$0]);break}},table:[{3:1,4:2,5:[1,3],8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],26:[1,15],27:[1,16],29:[1,17]},{1:[3]},{5:[1,18],8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],26:[1,15],27:[1,16],29:[1,17]},{1:[2,2]},{5:[2,9],10:[2,9],17:[2,9],18:[2,9],21:[2,9],23:[2,9],24:[2,9],26:[2,9],27:[2,9],29:[2,9]},{10:[1,20]},{4:23,6:21,7:22,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,24],24:[2,8],26:[1,15],27:[1,16],29:[1,17]},{4:23,6:25,7:22,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,24],24:[2,8],26:[1,15],27:[1,16],29:[1,17]},{5:[2,14],10:[2,14],17:[2,14],18:[2,14],21:[2,14],23:[2,14],24:[2,14],26:[2,14],27:[2,14],29:[2,14]},{5:[2,15],10:[2,15],17:[2,15],18:[2,15],21:[2,15],23:[2,15],24:[2,15],26:[2,15],27:[2,15],29:[2,15]},{5:[2,16],10:[2,16],17:[2,16],18:[2,16],21:[2,16],23:[2,16],24:[2,16],26:[2,16],27:[2,16],29:[2,16]},{5:[2,17],10:[2,17],17:[2,17],18:[2,17],21:[2,17],23:[2,17],24:[2,17],26:[2,17],27:[2,17],29:[2,17]},{19:26,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:32,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:33,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:34,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:35,25:27,36:28,45:[1,31],47:[1,30],48:29},{25:37,30:36,37:[1,38],38:[1,39],45:[1,31],48:29},{1:[2,1]},{5:[2,10],10:[2,10],17:[2,10],18:[2,10],21:[2,10],23:[2,10],24:[2,10],26:[2,10],27:[2,10],29:[2,10]},{11:[1,40]},{13:41,24:[1,42]},{4:43,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,7],26:[1,15],27:[1,16],29:[1,17]},{7:44,8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,24],24:[2,6],26:[1,15],27:[1,16],29:[1,17]},{19:32,22:[1,45],25:27,36:28,45:[1,31],47:[1,30],48:29},{13:46,24:[1,42]},{20:[1,47]},{20:[2,48],22:[2,48],28:[2,48],34:48,37:[2,48],38:[2,48],39:[2,48],40:[2,48],41:[2,48],45:[2,48],47:[2,48]},{20:[2,28],22:[2,28],28:[2,28],41:[2,28]},{20:[2,41],22:[2,41],28:[2,41],37:[2,41],38:[2,41],39:[2,41],40:[2,41],41:[2,41],45:[2,41],47:[2,41],49:[1,49]},{25:50,45:[1,31],48:29},{20:[2,43],22:[2,43],28:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[2,43],41:[2,43],45:[2,43],47:[2,43],49:[2,43]},{22:[1,51]},{22:[1,52]},{22:[1,53]},{28:[1,54]},{22:[2,46],25:57,31:55,33:56,36:61,37:[1,58],38:[1,59],39:[1,60],40:[1,62],42:63,43:64,44:66,45:[1,65],47:[1,30],48:29},{22:[2,37],37:[2,37],38:[2,37],39:[2,37],40:[2,37],45:[2,37],47:[2,37]},{22:[2,38],37:[2,38],38:[2,38],39:[2,38],40:[2,38],45:[2,38],47:[2,38]},{22:[2,39],37:[2,39],38:[2,39],39:[2,39],40:[2,39],45:[2,39],47:[2,39]},{5:[2,11],10:[2,11],17:[2,11],18:[2,11],21:[2,11],23:[2,11],24:[2,11],26:[2,11],27:[2,11],29:[2,11]},{5:[2,12],10:[2,12],17:[2,12],18:[2,12],21:[2,12],23:[2,12],24:[2,12],26:[2,12],27:[2,12],29:[2,12]},{25:67,45:[1,31],48:29},{8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,3],26:[1,15],27:[1,16],29:[1,17]},{4:68,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,5],26:[1,15],27:[1,16],29:[1,17]},{10:[2,26],17:[2,26],18:[2,26],21:[2,26],23:[2,26],24:[2,26],26:[2,26],27:[2,26],29:[2,26]},{5:[2,13],10:[2,13],17:[2,13],18:[2,13],21:[2,13],23:[2,13],24:[2,13],26:[2,13],27:[2,13],29:[2,13]},{10:[2,18]},{20:[2,50],22:[2,50],25:57,28:[2,50],31:70,35:69,36:61,37:[1,58],38:[1,59],39:[1,60],40:[1,62],41:[2,50],42:71,43:64,44:66,45:[1,65],47:[1,30],48:29},{45:[1,72]},{20:[2,40],22:[2,40],28:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],41:[2,40],45:[2,40],47:[2,40]},{10:[2,20],17:[2,20],18:[2,20],21:[2,20],23:[2,20],24:[2,20],26:[2,20],27:[2,20],29:[2,20]},{10:[2,19],17:[2,19],18:[2,19],21:[2,19],23:[2,19],24:[2,19],26:[2,19],27:[2,19],29:[2,19]},{5:[2,22],10:[2,22],17:[2,22],18:[2,22],21:[2,22],23:[2,22],24:[2,22],26:[2,22],27:[2,22],29:[2,22]},{5:[2,23],10:[2,23],17:[2,23],18:[2,23],21:[2,23],23:[2,23],24:[2,23],26:[2,23],27:[2,23],29:[2,23]},{22:[2,44],32:73,42:74,43:64,44:66,45:[1,75]},{22:[1,76]},{20:[2,29],22:[2,29],28:[2,29],37:[2,29],38:[2,29],39:[2,29],40:[2,29],41:[2,29],45:[2,29],47:[2,29]},{20:[2,30],22:[2,30],28:[2,30],37:[2,30],38:[2,30],39:[2,30],40:[2,30],41:[2,30],45:[2,30],47:[2,30]},{20:[2,31],22:[2,31],28:[2,31],37:[2,31],38:[2,31],39:[2,31],40:[2,31],41:[2,31],45:[2,31],47:[2,31]},{20:[2,32],22:[2,32],28:[2,32],37:[2,32],38:[2,32],39:[2,32],40:[2,32],41:[2,32],45:[2,32],47:[2,32]},{20:[2,33],22:[2,33],28:[2,33],37:[2,33],38:[2,33],39:[2,33],40:[2,33],41:[2,33],45:[2,33],47:[2,33]},{19:77,25:27,36:28,45:[1,31],47:[1,30],48:29},{22:[2,47]},{20:[2,35],22:[2,35],28:[2,35],41:[2,35],44:78,45:[1,75]},{20:[2,43],22:[2,43],28:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[2,43],41:[2,43],45:[2,43],46:[1,79],47:[2,43],49:[2,43]},{20:[2,52],22:[2,52],28:[2,52],41:[2,52],45:[2,52]},{22:[1,80]},{8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,4],26:[1,15],27:[1,16],29:[1,17]},{20:[2,27],22:[2,27],28:[2,27],41:[2,27]},{20:[2,49],22:[2,49],28:[2,49],37:[2,49],38:[2,49],39:[2,49],40:[2,49],41:[2,49],45:[2,49],47:[2,49]},{20:[2,51],22:[2,51],28:[2,51],41:[2,51]},{20:[2,42],22:[2,42],28:[2,42],37:[2,42],38:[2,42],39:[2,42],40:[2,42],41:[2,42],45:[2,42],47:[2,42],49:[2,42]},{22:[1,81]},{22:[2,45]},{46:[1,79]},{5:[2,25],10:[2,25],17:[2,25],18:[2,25],21:[2,25],23:[2,25],24:[2,25],26:[2,25],27:[2,25],29:[2,25]},{41:[1,82]},{20:[2,53],22:[2,53],28:[2,53],41:[2,53],45:[2,53]},{25:57,31:83,36:61,37:[1,58],38:[1,59],39:[1,60],40:[1,62],45:[1,31],47:[1,30],48:29},{5:[2,21],10:[2,21],17:[2,21],18:[2,21],21:[2,21],23:[2,21],24:[2,21],26:[2,21],27:[2,21],29:[2,21]},{5:[2,24],10:[2,24],17:[2,24],18:[2,24],21:[2,24],23:[2,24],24:[2,24],26:[2,24],27:[2,24],29:[2,24]},{20:[2,34],22:[2,34],28:[2,34],37:[2,34],38:[2,34],39:[2,34],40:[2,34],41:[2,34],45:[2,34],47:[2,34]},{20:[2,36],22:[2,36],28:[2,36],41:[2,36],45:[2,36]}],defaultActions:{3:[2,2],18:[2,1],47:[2,18],63:[2,47],74:[2,45]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError
function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}
function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number")token=self.symbols_[token]||token;return token};var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined")symbol=lex();action=table[state]&&table[state][symbol]};if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2)expected.push("'"+this.terminals_[p]+"'");if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'");this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}};if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null};break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges)yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]];r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined")return r;if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)};stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}};return true}}
function stripFlags(open,close){return{left:open.charAt(2)==='~',right:close.charAt(0)==='~'||close.charAt(1)==='~'}};var lexer=(function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else throw new Error(str)},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges)this.yylloc.range=[r[0],r[0]+this.yyleng-len];return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20)next+=this._input.substr(0,20-next.length);return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext='';this.match=''};var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}};if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token){return token}else return};if(this._input===""){return this.EOF}else return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r}else return this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)};var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-2)==="\\\\"){strip(0,1);this.begin("mu")}else if(yy_.yytext.slice(-1)==="\\"){strip(0,1);this.begin("emu")}else this.begin("mu");if(yy_.yytext)return 10;break;case 1:return 10;break;case 2:this.popState();return 10;break;case 3:yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9);this.popState();return 11;break;case 4:return 10;break;case 5:strip(0,4);this.popState();return 17;break;case 6:return 40;break;case 7:return 41;break;case 8:return 18;break;case 9:this.popState();this.begin('raw');return 20;break;case 10:yy_.yytext=yy_.yytext.substr(4,yy_.yyleng-8);this.popState();return'RAW_BLOCK';break;case 11:return 29;break;case 12:return 21;break;case 13:return 24;break;case 14:return 23;break;case 15:return 23;break;case 16:return 27;break;case 17:return 26;break;case 18:this.popState();this.begin('com');break;case 19:strip(3,5);this.popState();return 17;break;case 20:return 26;break;case 21:return 46;break;case 22:return 45;break;case 23:return 45;break;case 24:return 49;break;case 25:break;case 26:this.popState();return 28;break;case 27:this.popState();return 22;break;case 28:yy_.yytext=strip(1,2).replace(/\\"/g,'"');return 37;break;case 29:yy_.yytext=strip(1,2).replace(/\\'/g,"'");return 37;break;case 30:return 47;break;case 31:return 39;break;case 32:return 39;break;case 33:return 38;break;case 34:return 45;break;case 35:yy_.yytext=strip(1,2);return 45;break;case 36:return'INVALID';break;case 37:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{\{\{[^\x00]*\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];lexer.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[5],inclusive:false},raw:{rules:[3,4],inclusive:false},INITIAL:{rules:[0,1,37],inclusive:true}};return lexer})();parser.lexer=lexer
function Parser(){this.yy={}};Parser.prototype=parser;parser.Parser=Parser;return new Parser()})();__exports__=handlebars;return __exports__})(),__module8__=(function(__dependency1__,__dependency2__){"use strict";var __exports__={},parser=__dependency1__,AST=__dependency2__;__exports__.parser=parser
function parse(input){if(input.constructor===AST.ProgramNode)return input;parser.yy=AST;return parser.parse(input)};__exports__.parse=parse;return __exports__})(__module9__,__module7__),__module10__=(function(__dependency1__){"use strict";var __exports__={},Exception=__dependency1__
function Compiler(){};__exports__.Compiler=Compiler;Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==='DECLARE'){out.push("DECLARE "+opcode.name+"="+opcode.value)}else{params=[];for(var j=0;j<opcode.args.length;j++){param=opcode.args[j];if(typeof param==="string")param="\""+param.replace("\n","\\n")+"\"";params.push(param)};out.push(opcode.opcode+" "+params.join(" "))}};return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return false;for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length)return false;for(var j=0;j<opcode.args.length;j++)if(opcode.args[j]!==otherOpcode.args[j])return false};len=this.children.length;if(other.children.length!==len)return false;for(i=0;i<len;i++)if(!this.children[i].equals(other.children[i]))return false;return true},guid:0,compile:function(program,options){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=options;this.stringParams=options.stringParams;this.trackIds=options.trackIds;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,'if':true,unless:true,'with':true,log:true,lookup:true};if(knownHelpers)for(var name in knownHelpers)this.options.knownHelpers[name]=knownHelpers[name];return this.accept(program)},accept:function(node){var strip=node.strip||{},ret;if(strip.left)this.opcode('strip');ret=this[node.type](node);if(strip.right)this.opcode('strip');return ret},program:function(program){var statements=program.statements;for(var i=0,l=statements.length;i<l;i++)this.accept(statements[i]);this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(program){var result=new this.compiler().compile(program,this.options),guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2){continue}else this.addDepth(depth-1)};return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;if(program)program=this.compileProgram(program);if(inverse)inverse=this.compileProgram(inverse);var sexpr=mustache.sexpr,type=this.classifySexpr(sexpr);if(type==="helper"){this.helperSexpr(sexpr,program,inverse)}else if(type==="simple"){this.simpleSexpr(sexpr);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);this.opcode('emptyHash');this.opcode('blockValue',sexpr.id.original)}else{this.ambiguousSexpr(sexpr,program,inverse);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);this.opcode('emptyHash');this.opcode('ambiguousBlockValue')};this.opcode('append')},hash:function(hash){var pairs=hash.pairs,i,l;this.opcode('pushHash');for(i=0,l=pairs.length;i<l;i++)this.pushParam(pairs[i][1]);while(i--)this.opcode('assignToHash',pairs[i][0]);this.opcode('popHash')},partial:function(partial){var partialName=partial.partialName;this.usePartial=true;if(partial.hash){this.accept(partial.hash)}else this.opcode('push','undefined');if(partial.context){this.accept(partial.context)}else this.opcode('push','depth0');this.opcode('invokePartial',partialName.name);this.opcode('append')},content:function(content){this.opcode('appendContent',content.string)},mustache:function(mustache){this.sexpr(mustache.sexpr);if(mustache.escaped&&!this.options.noEscape){this.opcode('appendEscaped')}else this.opcode('append')},ambiguousSexpr:function(sexpr,program,inverse){var id=sexpr.id,name=id.parts[0],isBlock=program!=null||inverse!=null;this.opcode('getContext',id.depth);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);this.opcode('invokeAmbiguous',name,isBlock)},simpleSexpr:function(sexpr){var id=sexpr.id;if(id.type==='DATA'){this.DATA(id)}else if(id.parts.length){this.ID(id)}else{this.addDepth(id.depth);this.opcode('getContext',id.depth);this.opcode('pushContext')};this.opcode('resolvePossibleLambda')},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),id=sexpr.id,name=id.parts[0];if(this.options.knownHelpers[name]){this.opcode('invokeKnownHelper',params.length,name)}else if(this.options.knownHelpersOnly){throw new Exception("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr)}else{this.ID(id);this.opcode('invokeHelper',params.length,name,sexpr.isRoot)}},sexpr:function(sexpr){var type=this.classifySexpr(sexpr);if(type==="simple"){this.simpleSexpr(sexpr)}else if(type==="helper"){this.helperSexpr(sexpr)}else this.ambiguousSexpr(sexpr)},ID:function(id){this.addDepth(id.depth);this.opcode('getContext',id.depth);var name=id.parts[0];if(!name){this.opcode('pushContext')}else this.opcode('lookupOnContext',id.parts[0]);for(var i=1,l=id.parts.length;i<l;i++)this.opcode('lookup',id.parts[i])},DATA:function(data){this.options.data=true;this.opcode('lookupData',data.id.depth);var parts=data.id.parts;for(var i=0,l=parts.length;i<l;i++)this.opcode('lookup',parts[i])},STRING:function(string){this.opcode('pushString',string.string)},NUMBER:function(number){this.opcode('pushLiteral',number.number)},BOOLEAN:function(bool){this.opcode('pushLiteral',bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:'DECLARE',name:name,value:value})},addDepth:function(depth){if(depth===0)return;if(!this.depths[depth]){this.depths[depth]=true;this.depths.list.push(depth)}},classifySexpr:function(sexpr){var isHelper=sexpr.isHelper,isEligible=sexpr.eligibleHelper,options=this.options;if(isEligible&&!isHelper){var name=sexpr.id.parts[0];if(options.knownHelpers[name]){isHelper=true}else if(options.knownHelpersOnly)isEligible=false};if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else return"simple"},pushParams:function(params){for(var i=0,l=params.length;i<l;i++)this.pushParam(params[i])},pushParam:function(val){if(this.stringParams){if(val.depth)this.addDepth(val.depth);this.opcode('getContext',val.depth||0);this.opcode('pushStringParam',val.stringModeValue,val.type);if(val.type==='sexpr')this.sexpr(val)}else{if(this.trackIds)this.opcode('pushId',val.type,val.idName||val.stringModeValue);this.accept(val)}},setupFullMustacheParams:function(sexpr,program,inverse){var params=sexpr.params;this.pushParams(params);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);if(sexpr.hash){this.hash(sexpr.hash)}else this.opcode('emptyHash');return params}}
function precompile(input,options,env){if(input==null||(typeof input!=='string'&&input.constructor!==env.AST.ProgramNode))throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{};if(!('data'in options))options.data=true;var ast=env.parse(input),environment=new env.Compiler().compile(ast,options);return new env.JavaScriptCompiler().compile(environment,options)};__exports__.precompile=precompile
function compile(input,options,env){if(input==null||(typeof input!=='string'&&input.constructor!==env.AST.ProgramNode))throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);options=options||{};if(!('data'in options))options.data=true;var compiled
function compileInput(){var ast=env.parse(input),environment=new env.Compiler().compile(ast,options),templateSpec=new env.JavaScriptCompiler().compile(environment,options,undefined,true);return env.template(templateSpec)};var ret=function(context,options){if(!compiled)compiled=compileInput();return compiled.call(this,context,options)};ret.child=function(i){if(!compiled)compiled=compileInput();return compiled.child(i)};return ret};__exports__.compile=compile;return __exports__})(__module5__),__module11__=(function(__dependency1__,__dependency2__){"use strict";var __exports__,COMPILER_REVISION=__dependency1__.COMPILER_REVISION,REVISION_CHANGES=__dependency1__.REVISION_CHANGES,log=__dependency1__.log,Exception=__dependency2__
function Literal(value){this.value=value}
function JavaScriptCompiler(){};JavaScriptCompiler.prototype={nameLookup:function(parent,name){var wrap,ret;if(parent.indexOf('depth')===0)wrap=true;if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){ret=parent+"."+name}else ret=parent+"['"+name+"']";if(wrap){return'('+parent+' && '+ret+')'}else return ret},compilerInfo:function(){var revision=COMPILER_REVISION,versions=REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function(string){if(this.environment.isSimple){return"return "+string+";"}else return{appendToBuffer:true,content:string,toString:function(){return"buffer += "+string+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment;this.options=options||{};this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!asObject;log('debug',this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode,i,l;for(i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==='DECLARE'){this[opcode.name]=opcode.value}else this[opcode.opcode].apply(this,opcode.args);if(opcode.opcode!==this.stripNext)this.stripNext=false};this.pushSource('');if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new Exception('Compile completed with content left on stack');var fn=this.createFunctionContext(asObject);if(!this.isChild){var ret={compiler:this.compilerInfo(),main:fn},programs=this.context.programs;for(i=0,l=programs.length;i<l;i++)if(programs[i])ret[i]=programs[i];if(this.environment.usePartial)ret.usePartial=true;if(this.options.data)ret.useData=true;if(!asObject){ret.compiler=JSON.stringify(ret.compiler);ret=this.objectLiteral(ret)};return ret}else return fn},preamble:function(){this.lastContext=0;this.source=[]},createFunctionContext:function(asObject){var varDeclarations='',locals=this.stackVars.concat(this.registers.list);if(locals.length>0)varDeclarations+=", "+locals.join(", ");for(var alias in this.aliases)if(this.aliases.hasOwnProperty(alias))varDeclarations+=', '+alias+'='+this.aliases[alias];var params=["depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++)params.push("depth"+this.environment.depths.list[i]);var source=this.mergeSource(varDeclarations);if(asObject){params.push(source);return Function.apply(this,params)}else return'function('+params.join(',')+') {\n  '+source+'}'},mergeSource:function(varDeclarations){var source='',buffer,appendOnly=!this.forceBuffer,appendFirst;for(var i=0,len=this.source.length;i<len;i++){var line=this.source[i];if(line.appendToBuffer){if(buffer){buffer=buffer+'\n    + '+line.content}else buffer=line.content}else{if(buffer){if(!source){appendFirst=true;source=buffer+';\n  '}else source+='buffer += '+buffer+';\n  ';buffer=undefined};source+=line+'\n  ';if(!this.environment.isSimple)appendOnly=false}};if(appendOnly){if(buffer||!source)source+='return '+(buffer||'""')+';\n'}else{varDeclarations+=", buffer = "+(appendFirst?'':this.initializeBuffer());if(buffer){source+='return buffer + '+buffer+';\n'}else source+='return buffer;\n'};if(varDeclarations)source='var '+varDeclarations.substring(2)+(appendFirst?'':';\n  ')+source;return source},blockValue:function(name){this.aliases.blockHelperMissing='helpers.blockHelperMissing';var params=["depth0"];this.setupParams(name,0,params);this.replaceStack(function(current){params.splice(1,0,current);return"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.aliases.blockHelperMissing='helpers.blockHelperMissing';var params=["depth0"];this.setupParams('',0,params,true);this.flushInline();var current=this.topStack();params.splice(1,0,current);this.pushSource("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){if(this.pendingContent)content=this.pendingContent+content;if(this.stripNext)content=content.replace(/^\s+/,'');this.pendingContent=content},strip:function(){if(this.pendingContent)this.pendingContent=this.pendingContent.replace(/\s+$/,'');this.stripNext='strip'},append:function(){this.flushInline();var local=this.popStack();this.pushSource("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }");if(this.environment.isSimple)this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.aliases.escapeExpression='this.escapeExpression';this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){if(this.lastContext!==depth)this.lastContext=depth},lookupOnContext:function(name){this.push(this.nameLookup('depth'+this.lastContext,name,'context'))},pushContext:function(){this.pushStackLiteral('depth'+this.lastContext)},resolvePossibleLambda:function(){this.aliases.functionType='"function"';this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,'context')})},lookupData:function(depth){if(!depth){this.pushStackLiteral('data')}else this.pushStackLiteral('this.data(data, '+depth+')')},pushStringParam:function(string,type){this.pushStackLiteral('depth'+this.lastContext);this.pushString(type);if(type!=='sexpr')if(typeof string==='string'){this.pushString(string)}else this.pushStackLiteral(string)},emptyHash:function(){this.pushStackLiteral('{}');if(this.trackIds)this.push('{}');if(this.stringParams){this.push('{}');this.push('{}')}},pushHash:function(){if(this.hash)this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop();if(this.trackIds)this.push('{'+hash.ids.join(',')+'}');if(this.stringParams){this.push('{'+hash.contexts.join(',')+'}');this.push('{'+hash.types.join(',')+'}')};this.push('{\n    '+hash.values.join(',\n    ')+'\n  }')},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){this.inlineStack.push(expr);return expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else this.pushStackLiteral(null)},invokeHelper:function(paramSize,name,isRoot){this.aliases.helperMissing='helpers.helperMissing';this.useRegister('helper');var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),lookup='helper = '+helper.name+' || '+nonHelper+' || helperMissing';if(helper.paramsInit)lookup+=','+helper.paramsInit;this.push('('+lookup+',helper.call('+helper.callParams+'))');if(!isRoot)this.flushInline()},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.aliases.functionType='"function"';this.useRegister('helper');this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup('helpers',name,'helper'),nonHelper=this.nameLookup('depth'+this.lastContext,name,'context');this.push('((helper = '+helperName+' || '+nonHelper+(helper.paramsInit?'),('+helper.paramsInit:'')+'),(typeof helper === functionType ? helper.call('+helper.callParams+') : helper))')},invokePartial:function(name){var params=[this.nameLookup('partials',name,'partial'),"'"+name+"'",this.popStack(),this.popStack(),"helpers","partials"];if(this.options.data)params.push("data");this.push("this.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack(),context,type,id;if(this.trackIds)id=this.popStack();if(this.stringParams){type=this.popStack();context=this.popStack()};var hash=this.hash;if(context)hash.contexts.push("'"+key+"': "+context);if(type)hash.types.push("'"+key+"': "+type);if(id)hash.ids.push("'"+key+"': "+id);hash.values.push("'"+key+"': ("+value+")")},pushId:function(type,name){if(type==='ID'||type==='DATA'){this.pushString(name)}else if(type==='sexpr'){this.pushStackLiteral('true')}else this.pushStackLiteral('null')},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler();var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push('');index=this.context.programs.length;child.index=index;child.name='program'+index;this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile);this.context.environments[index]=child}else{child.index=index;child.name='program'+index}}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){if(guid==null)return'this.noop';var child=this.environment.children[guid],depths=child.depths.list,depth,programParams=[child.index,'data'];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];programParams.push('depth'+(depth-1))};return(depths.length===0?'this.program(':'this.programWithDepth(')+programParams.join(', ')+')'},register:function(name,val){this.useRegister(name);this.pushSource(name+" = "+val+";")},useRegister:function(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},pushStackLiteral:function(item){return this.push(new Literal(item))},pushSource:function(source){if(this.pendingContent){this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent)));this.pendingContent=undefined};if(source)this.source.push(source)},pushStack:function(item){this.flushInline();var stack=this.incrStack();if(item)this.pushSource(stack+" = "+item+";");this.compileStack.push(stack);return stack},replaceStack:function(callback){var prefix='',inline=this.isInline(),stack,createdStack,usedLiteral;if(inline){var top=this.popStack(true);if(top instanceof Literal){stack=top.value;usedLiteral=true}else{createdStack=!this.stackSlot;var name=!createdStack?this.topStackName():this.incrStack();prefix='('+this.push(name)+' = '+top+'),';stack=this.topStack()}}else stack=this.topStack();var item=callback.call(this,stack);if(inline){if(!usedLiteral)this.popStack();if(createdStack)this.stackSlot--;this.push('('+prefix+item+')')}else{if(!/^stack/.test(stack))stack=this.nextStack();this.pushSource(stack+" = ("+prefix+item+");")};return stack},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length)this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else this.pushStack(entry)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&(item instanceof Literal)){return item.value}else{if(!inline){if(!this.stackSlot)throw new Exception('Invalid stack pop');this.stackSlot--};return item}},topStack:function(wrapped){var stack=(this.isInline()?this.inlineStack:this.compileStack),item=stack[stack.length-1];if(!wrapped&&(item instanceof Literal)){return item.value}else return item},quotedString:function(str){return'"'+str.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\u2028/g,'\\u2028').replace(/\u2029/g,'\\u2029')+'"'},objectLiteral:function(obj){var pairs=[];for(var key in obj)if(obj.hasOwnProperty(key))pairs.push(this.quotedString(key)+':'+obj[key]);return'{'+pairs.join(',')+'}'},setupHelper:function(paramSize,name,blockHelper){var params=[],paramsInit=this.setupParams(name,paramSize,params,blockHelper),foundHelper=this.nameLookup('helpers',name,'helper');return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:["depth0"].concat(params).join(", ")}},setupOptions:function(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],param,inverse,program;options.name=this.quotedString(helper);options.hash=this.popStack();if(this.trackIds)options.hashIds=this.popStack();if(this.stringParams){options.hashTypes=this.popStack();options.hashContexts=this.popStack()};inverse=this.popStack();program=this.popStack();if(program||inverse){if(!program)program='this.noop';if(!inverse)inverse='this.noop';options.fn=program;options.inverse=inverse};var i=paramSize;while(i--){param=this.popStack();params[i]=param;if(this.trackIds)ids[i]=this.popStack();if(this.stringParams){types[i]=this.popStack();contexts[i]=this.popStack()}};if(this.trackIds)options.ids="["+ids.join(",")+"]";if(this.stringParams){options.types="["+types.join(",")+"]";options.contexts="["+contexts.join(",")+"]"};if(this.options.data)options.data="data";return options},setupParams:function(helperName,paramSize,params,useRegister){var options=this.objectLiteral(this.setupOptions(helperName,paramSize,params));if(useRegister){this.useRegister('options');params.push('options');return'options='+options}else{params.push(options);return''}}};var reservedWords=("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield").split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++)compilerWords[reservedWords[i]]=true;JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)};__exports__=JavaScriptCompiler;return __exports__})(__module2__,__module5__),__module0__=(function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__,Handlebars=__dependency1__,AST=__dependency2__,Parser=__dependency3__.parser,parse=__dependency3__.parse,Compiler=__dependency4__.Compiler,compile=__dependency4__.compile,precompile=__dependency4__.precompile,JavaScriptCompiler=__dependency5__,_create=Handlebars.create,create=function(){var hb=_create();hb.compile=function(input,options){return compile(input,options,hb)};hb.precompile=function(input,options){return precompile(input,options,hb)};hb.AST=AST;hb.Compiler=Compiler;hb.JavaScriptCompiler=JavaScriptCompiler;hb.Parser=Parser;hb.parse=parse;return hb};Handlebars=create();Handlebars.create=create;__exports__=Handlebars;return __exports__})(__module1__,__module7__,__module8__,__module10__,__module11__);return __module0__})();;
(function(){var Dates,HTML,Swag,Utils,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};if(typeof window!=="undefined"&&window!==null){window.Swag=Swag={}}else if(typeof module!=="undefined"&&module!==null)module.exports=Swag={};Swag.helpers={};Swag.addHelper=function(name,helper){return Swag.helpers[name]=helper};Swag.registerHelpers=function(localHandlebars){var helper,name,_ref,_results;if(localHandlebars){Swag.Handlebars=localHandlebars}else if(typeof window!=="undefined"&&window!==null){if(window.Ember!=null){Swag.Handlebars=Ember.Handlebars}else Swag.Handlebars=window.Handlebars}else if(typeof module!=="undefined"&&module!==null)Swag.Handlebars=require('handlebars');Swag.registerHelper=function(name,helper){if((typeof window!=="undefined"&&window!==null)&&window.Ember){return Swag.Handlebars.helper(name,helper)}else return Swag.Handlebars.registerHelper(name,helper)};_ref=Swag.helpers;_results=[];for(name in _ref){helper=_ref[name];_results.push(Swag.registerHelper(name,helper))};return _results};Swag.Config={partialsPath:'',precompiledTemplates:true};Utils={};Utils.isHandlebarsSpecific=function(value){return(value&&(value.fn!=null))||(value&&(value.hash!=null))};Utils.isUndefined=function(value){return(value===void(0)||value===null)||Utils.isHandlebarsSpecific(value)};Utils.safeString=function(str){return new Swag.Handlebars.SafeString(str)};Utils.escapeRegexp=function(str,delimiter){return String(str).replace(new RegExp('[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\'+(delimiter||'')+'-]','g'),'\\$&')};Utils.trim=function(str){var trim;trim=/\S/.test("\xA0")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g;return str.toString().replace(trim,'')};Utils.isFunc=function(value){return typeof value==='function'};Utils.isString=function(value){return typeof value==='string'};Utils.result=function(value){if(Utils.isFunc(value)){return value()}else return value};Utils.err=function(msg){throw new Error(msg)};Swag.addHelper('lowercase',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.toLowerCase()}else return Utils.err('{{lowercase}} takes one argument (string).')});Swag.addHelper('uppercase',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.toUpperCase()}else return Utils.err('{{uppercase}} takes one argument (string).')});Swag.addHelper('capitalizeFirst',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.charAt(0).toUpperCase()+str.slice(1)}else return Utils.err('{{capitalizeFirst}} takes one argument (string).')});Swag.addHelper('capitalizeEach',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1)})}else return Utils.err('{{capitalizeEach}} takes one argument (string).')});Swag.addHelper('titleize',function(str){var capitalize,title,word,words;if(!Utils.isUndefined(str)){str=Utils.result(str);title=str.replace(/[ \-_]+/g,' ');words=title.match(/\w+/g);capitalize=function(word){return word.charAt(0).toUpperCase()+word.slice(1)};return((function(){var _i,_len,_results;_results=[];for(_i=0,_len=words.length;_i<_len;_i++){word=words[_i];_results.push(capitalize(word))};return _results})()).join(' ')}else return Utils.err('{{titleize}} takes one argument (string).')});Swag.addHelper('sentence',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.replace(/((?:\S[^\.\?\!]*)[\.\?\!]*)/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}else return Utils.err('{{sentence}} takes one argument (string).')});Swag.addHelper('formatTime',function(seconds){return new Date(seconds).toString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")});Swag.addHelper('duration',function(seconds){if(isNaN(seconds)||seconds<0)return"";var numdays=Math.floor(seconds/86400),numhours=Math.floor((seconds%86400)/3600),numminutes=Math.floor(((seconds%86400)%3600)/60),numseconds=((seconds%86400)%3600)%60;duration='';if(numdays>0)duration+=numdays+"d ";if(numhours>0)duration+=numhours+"h ";if(numminutes>0)duration+=numminutes+"m ";if(duration==''&&numseconds>0)duration='< 1m';return duration});Swag.addHelper('reverse',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.split('').reverse().join('')}else return Utils.err('{{reverse}} takes one argument (string).')});Swag.addHelper('truncate',function(str,length,omission){if(!Utils.isUndefined(str)){str=Utils.result(str);if(Utils.isUndefined(omission))omission='';if(str.length>length){return str.substring(0,length-omission.length)+omission}else return str}else return Utils.err('{{truncate}} takes one argument (string).')});Swag.addHelper('ifvalue',function(conditional,options){if(options.hash.value===conditional){return options.fn(this)}else return options.inverse(this)});Swag.addHelper('ifequal',function(val1,val2,fn,elseFn){if(val1===val2){return fn()}else if(elseFn)return elseFn()});Swag.addHelper('type',function(value){this.key=value});Swag.addHelper('center',function(str,spaces){var i,space;if(!((Utils.isUndefined(str))&&(Utils.isUndefined(spaces)))){str=Utils.result(str);spaces=Utils.result(spaces);space='';i=0;while(i<spaces){space+='&nbsp;';i++};return""+space+str+space}else return Utils.err('{{center}} takes two arguments (string, number).')});Swag.addHelper('newLineToBr',function(str){if(!Utils.isUndefined(str)){str=Utils.result(str);return str.replace(/\r?\n|\r/g,'<br>')}else return Utils.err('{{newLineToBr}} takes one argument (string).')});Swag.addHelper('sanitize',function(str,replaceWith){if(!Utils.isUndefined(str)){str=Utils.result(str);if(Utils.isUndefined(replaceWith))replaceWith='-';return str.replace(/[^a-z0-9]/gi,replaceWith)}else return Utils.err('{{sanitize}} takes one argument (string).')});Swag.addHelper('first',function(array,count){if(!Utils.isUndefined(array)){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));if(Utils.isUndefined(count)){return array[0]}else return array.slice(0,count)}else return Utils.err('{{first}} takes at least one argument (array).')});Swag.addHelper('withFirst',function(array,count,options){var item,result;if(!Utils.isUndefined(array)){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));if(Utils.isUndefined(count)){options=count;return options.fn(array[0])}else{array=array.slice(0,count);result='';for(item in array)result+=options.fn(array[item]);return result}}else return Utils.err('{{withFirst}} takes at least one argument (array).')});Swag.addHelper('last',function(array,count){if(!Utils.isUndefined(array)){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));if(Utils.isUndefined(count)){return array[array.length-1]}else return array.slice(-count)}else return Utils.err('{{last}} takes at least one argument (array).')});Swag.addHelper('withLast',function(array,count,options){var item,result;if(!Utils.isUndefined(array)){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));if(Utils.isUndefined(count)){options=count;return options.fn(array[array.length-1])}else{array=array.slice(-count);result='';for(item in array)result+=options.fn(array[item]);return result}}else return Utils.err('{{withLast}} takes at least one argument (array).')});Swag.addHelper('after',function(array,count){if(!((Utils.isUndefined(array))&&(Utils.isUndefined(count)))){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));return array.slice(count)}else return Utils.err('{{after}} takes two arguments (array, number).')});Swag.addHelper('withAfter',function(array,count,options){var item,result;if(!((Utils.isUndefined(array))&&(Utils.isUndefined(count)))){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));array=array.slice(count);result='';for(item in array)result+=options.fn(array[item]);return result}else return Utils.err('{{withAfter}} takes two arguments (array, number).')});Swag.addHelper('before',function(array,count){if(!((Utils.isUndefined(array))&&(Utils.isUndefined(count)))){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));return array.slice(0,-count)}else return Utils.err('{{before}} takes two arguments (array, number).')});Swag.addHelper('withBefore',function(array,count,options){var item,result;if(!((Utils.isUndefined(array))&&(Utils.isUndefined(count)))){array=Utils.result(array);if(!Utils.isUndefined(count))count=parseFloat(Utils.result(count));array=array.slice(0,-count);result='';for(item in array)result+=options.fn(array[item]);return result}else return Utils.err('{{withBefore}} takes two arguments (array, number).')});Swag.addHelper('join',function(array,separator){if(!Utils.isUndefined(array)){array=Utils.result(array);if(!Utils.isUndefined(separator))separator=Utils.result(separator);return array.join(Utils.isUndefined(separator)?' ':separator)}else return Utils.err('{{join}} takes at least one argument (array).')});Swag.addHelper('sort',function(array,field){if(!Utils.isUndefined(array)){array=Utils.result(array);if(Utils.isUndefined(field)){return array.sort()}else{field=Utils.result(field);return array.sort(function(a,b){return a[field]>b[field]})}}else return Utils.err('{{sort}} takes at least one argument (array).')});Swag.addHelper('withSort',function(array,field,options){var item,result,_i,_len;if(!Utils.isUndefined(array)){array=Utils.result(array);result='';if(Utils.isUndefined(field)){options=field;array=array.sort();for(_i=0,_len=array.length;_i<_len;_i++){item=array[_i];result+=options.fn(item)}}else{field=Utils.result(field);array=array.sort(function(a,b){return a[field]>b[field]});for(item in array)result+=options.fn(array[item])};return result}else return Utils.err('{{withSort}} takes at least one argument (array).')});Swag.addHelper('length',function(array){if(!Utils.isUndefined(array)){array=Utils.result(array);return array.length}else return Utils.err('{{length}} takes one argument (array).')});Swag.addHelper('lengthEqual',function(array,length,options){if(!Utils.isUndefined(array)){array=Utils.result(array);if(!Utils.isUndefined(length))length=parseFloat(Utils.result(length));if(array.length===length){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{lengthEqual}} takes two arguments (array, number).')});Swag.addHelper('empty',function(array,options){if(!Utils.isHandlebarsSpecific(array)){array=Utils.result(array);if(!array||array.length<=0){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{empty}} takes one argument (array).')});Swag.addHelper('any',function(array,options){if(!Utils.isHandlebarsSpecific(array)){array=Utils.result(array);if(array&&array.length>0){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{any}} takes one argument (array).')});Swag.addHelper('inArray',function(array,value,options){if(!((Utils.isUndefined(array))&&(Utils.isUndefined(value)))){array=Utils.result(array);value=Utils.result(value);if(__indexOf.call(array,value)>=0){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{inArray}} takes two arguments (array, string|number).')});Swag.addHelper('inArrayNew',function(array,value,options){if(!((Utils.isUndefined(array))&&(Utils.isUndefined(value)))){array=Utils.result(array);value=Utils.result(value);if(value.constructor===Array){if(__indexOf.call(array,value[0])>=0){return options.fn(this)}else return options.inverse(this)}else if(__indexOf.call(array,value)>=0){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{inArray}} takes two arguments (array, string|number).')});Swag.addHelper('eachIndex',function(array,options){var index,result,value,_i,_len;if(!Utils.isUndefined(array)){array=Utils.result(array);result='';for(index=_i=0,_len=array.length;_i<_len;index=++_i){value=array[index];result+=options.fn({item:value,index:index})};return result}else return Utils.err('{{eachIndex}} takes one argument (array).')});Swag.addHelper('eachProperty',function(obj,options){var key,result,value;if(!Utils.isUndefined(obj)){obj=Utils.result(obj);result='';for(key in obj){value=obj[key];result+=options.fn({key:key,value:value})};return result}else return Utils.err('{{eachProperty}} takes one argument (object).')});Swag.addHelper('add',function(value,addition){if(!((Utils.isUndefined(value))&&(Utils.isUndefined(addition)))){value=parseFloat(Utils.result(value));addition=parseFloat(Utils.result(addition));return value+addition}else return Utils.err('{{add}} takes two arguments (number, number).')});Swag.addHelper('subtract',function(value,substraction){if(!((Utils.isUndefined(value))&&(Utils.isUndefined(substraction)))){value=parseFloat(Utils.result(value));substraction=parseFloat(Utils.result(substraction));return value-substraction}else return Utils.err('{{subtract}} takes two arguments (number, number).')});Swag.addHelper('divide',function(value,divisor){if(!((Utils.isUndefined(value))&&(Utils.isUndefined(divisor)))){value=parseFloat(Utils.result(value));divisor=parseFloat(Utils.result(divisor));return value/divisor}else return Utils.err('{{divide}} takes two arguments (number, number).')});Swag.addHelper('multiply',function(value,multiplier){if(!((Utils.isUndefined(value))&&(Utils.isUndefined(multiplier)))){value=parseFloat(Utils.result(value));multiplier=parseFloat(Utils.result(multiplier));return value*multiplier}else return Utils.err('{{multiply}} takes two arguments (number, number).')});Swag.addHelper('floor',function(value){if(!(Utils.isUndefined(value))){value=parseFloat(Utils.result(value));return Math.floor(value)}else return Utils.err('{{floor}} takes one argument (number).')});Swag.addHelper('ceil',function(value){if(!(Utils.isUndefined(value))){value=parseFloat(Utils.result(value));return Math.ceil(value)}else return Utils.err('{{ceil}} takes one argument (number).')});Swag.addHelper('round',function(value){if(!(Utils.isUndefined(value))){value=parseFloat(Utils.result(value));return Math.round(value)}else return Utils.err('{{round}} takes one argument (number).')});Swag.addHelper('toFixed',function(number,digits){if(!Utils.isUndefined(number)){number=parseFloat(Utils.result(number));digits=Utils.isUndefined(digits)?0:Utils.result(digits);return number.toFixed(digits)}else{return"-";return Utils.err('{{toFixed}} takes at least one argument (number).')}});Swag.addHelper('toPrice',function(number){if(!Utils.isUndefined(number)){number=parseFloat(Utils.result(number));return'$'+number.toFixed(2)}else return'-'});Swag.addHelper('toPrecision',function(number,precision){if(!Utils.isUndefined(number)){number=parseFloat(Utils.result(number));precision=Utils.isUndefined(precision)?1:Utils.result(precision);return number.toPrecision(precision)}else return Utils.err('{{toPrecision}} takes at least one argument (number).')});Swag.addHelper('toExponential',function(number,fractions){if(!Utils.isUndefined(number)){number=parseFloat(Utils.result(number));fractions=Utils.isUndefined(fractions)?0:Utils.result(fractions);return number.toExponential(fractions)}else return Utils.err('{{toExponential}} takes at least one argument (number).')});Swag.addHelper('toInt',function(number){if(!Utils.isUndefined(number)){number=Utils.result(number);return parseInt(number,10)}else return Utils.err('{{toInt}} takes one argument (number).')});Swag.addHelper('toFloat',function(number){if(!Utils.isUndefined(number)){number=Utils.result(number);return parseFloat(number)}else return Utils.err('{{toFloat}} takes one argument (number).')});Swag.addHelper('digitGrouping',function(number,separator){if(!Utils.isUndefined(number)){number=parseFloat(Utils.result(number));separator=Utils.isUndefined(separator)?',':Utils.result(separator);return number.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+separator)}else return Utils.err('{{digitGrouping}} takes at least one argument (number).')});Swag.addHelper('is',function(value,test,options){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isHandlebarsSpecific(value)))){value=Utils.result(value);test=Utils.result(test);if(value&&value===test){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{is}} takes two arguments (string|number, string|number).')});Swag.addHelper('isnt',function(value,test,options){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isHandlebarsSpecific(test)))){value=Utils.result(value);test=Utils.result(test);if(!value||value!==test){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{isnt}} takes two arguments (string|number, string|number).')});Swag.addHelper('gt',function(value,test,options){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isHandlebarsSpecific(test)))){value=Utils.result(value);test=Utils.result(test);if(value>test){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{gt}} takes two arguments (string|number, string|number).')});Swag.addHelper('gradualColors',function(currentValue,maxValue,options){c_i_v=currentValue/maxValue;r=parseInt(0+220*(1-c_i_v),10);g=parseInt(180+40*(1-c_i_v),10);b=parseInt(0+220*(1-c_i_v),10);console.log(r,g,b);result='color:rgb('+r+','+g+','+b+')';return new Handlebars.SafeString(result)});Swag.addHelper('abrWords',function(content,options){if(content=="[WORD_-3]")content="[W_-3]";if(content=="[WORD_-2]")content="[W_-2]";if(content=="[WORD_-1]")content="[W_-1]";if(content=="[WORD_+1]")content="[W_+1]";if(content=="[WORD_+2]")content="[W_+2]";if(content=="[WORD_+3]")content="[W_+3]";if(content=="[WORD_-3]")content="[W_-3]";if(content=="[WORD_OTHER]")content="[W_OTH]";if(content=="[CHECK_FAILED]")content="[FAILED]";if(content=="[TREATS]")content="[T]";if(content=="[CAUSES]")content="[C]";if(content=="[PREVENTS]")content="[P]";if(content=="[IS_A]")content="[IS_A]";if(content=="[OTHER]")content="[OTH]";if(content=="[NONE]")content="[NONE]";if(content=="[PART_OF]")content="[PO]";if(content=="[DIAGNOSE_BY_TEST_OR_DRUG]")content="[D]";if(content=="[ASSOCIATED_WITH]")content="[AW]";if(content=="[SIDE_EFFECT]")content="[SE]";if(content=="[SYMPTOM]")content="[S]";if(content=="[LOCATION]")content="[L]";if(content=="[MANIFESTATION]")content="[M]";if(content=="[CONTRAINDICATES]")content="[CI]";return new Handlebars.SafeString(content)});Swag.addHelper('createPercentage',function(value,options){return Math.round(value*100)})
function replaceStr(str,pos,value){var arr=str.split('');arr[pos]=value;return arr.join('')};Swag.addHelper('explodeLastSlash',function(value,options){var arrayID=value.split("/");return arrayID[arrayID.length-1]})
function objSort(){var args=arguments,array=args[0],case_sensitive,keys_length,key,desc,a,b,i;if(typeof arguments[arguments.length-1]==='boolean'){case_sensitive=arguments[arguments.length-1];keys_length=arguments.length-1}else{case_sensitive=false;keys_length=arguments.length};return array.sort(function(obj1,obj2){for(i=1;i<keys_length;i++){key=args[i];if(typeof key!=='string'){desc=key[1];key=key[0];a=obj1[args[i][0]];b=obj2[args[i][0]]}else{desc=false;a=obj1[args[i]];b=obj2[args[i]]};if(case_sensitive===false&&typeof a==='string'){a=String.prototype.toLowerCase.call(a);b=String.prototype.toLowerCase.call(b)};if(!desc){if(a<b)return-1;if(a>b)return 1}else{if(a>b)return-1;if(a<b)return 1}};return 0})};Swag.addHelper('highautomatedEvents',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.automatedEvents){objSort(content.automatedEvents,'startOffset','endOffset');console.log(content.automatedEvents);for(var i=content.automatedEvents.length-1;i>=0;i--){var entity=content.automatedEvents[i]["label"],startOffset=content.automatedEvents[i]["startOffset"],endOffset=content.automatedEvents[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:yellow">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highcrowdEvents',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.crowdEvents){objSort(content.crowdEvents,'startOffset','endOffset');console.log(content.crowdEvents);for(var i=content.crowdEvents.length-1;i>=0;i--){var entity=content.crowdEvents[i]["label"],startOffset=content.crowdEvents[i]["startOffset"],endOffset=content.crowdEvents[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:yellow">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highlightautomatedEvents',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.features.automatedEvents){objSort(content.features.automatedEvents,'startOffset','endOffset');console.log(content.features.automatedEvents);for(var i=content.features.automatedEvents.length-1;i>=0;i--){var entity=content.features.automatedEvents[i]["label"],startOffset=content.features.automatedEvents[i]["startOffset"],endOffset=content.features.automatedEvents[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:blue">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highlightPeople',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.features.people){objSort(content.features.people,'startOffset','endOffset');console.log(content.features.people);for(var i=content.features.people.length-1;i>=0;i--){var entity=content.features.people[i]["label"],startOffset=content.features.people[i]["startOffset"],endOffset=content.features.people[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:red">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highlightOther',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.features.other){objSort(content.features.other,'startOffset','endOffset');console.log(content.features.other);for(var i=content.features.other.length-1;i>=0;i--){var entity=content.features.other[i]["label"],startOffset=content.features.other[i]["startOffset"],endOffset=content.features.other[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:red">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highlightLocation',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.features.location){objSort(content.features.location,'startOffset','endOffset');console.log(content.features.location);for(var i=content.features.location.length-1;i>=0;i--){var entity=content.features.location[i]["label"],startOffset=content.features.location[i]["startOffset"],endOffset=content.features.location[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:green">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highlightTime',function(searchQuery,content,options){var metadataDescription=content.description,buffer=[],position=metadataDescription.length;if(content.features.time){objSort(content.features.time,'startOffset','endOffset');console.log(content.features.time);for(var i=content.features.time.length-1;i>=0;i--){var entity=content.features.time[i]["label"],startOffset=content.features.time[i]["startOffset"],endOffset=content.features.time[i]["endOffset"];console.log(metadataDescription);buffer.unshift('<span class="highlightEntity" data-toggle="tooltip" data-placement="top" style="background-color:yellow">',metadataDescription.substring(startOffset,endOffset),"</span>",metadataDescription.substring(endOffset,position));position=startOffset};buffer.unshift(metadataDescription.substring(0,position));console.log(buffer);metadataDescription=buffer.join("")};if(searchQuery.match["content.description"]){var highlightedSearchTerm=searchQuery.match["content.description"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");metadataDescription=metadataDescription.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(metadataDescription)});Swag.addHelper('highlightTagged',function(searchQuery,passage,options){passage=passage.replace(/{/g,'<span class="highlightTermOne" data-toggle="tooltip" data-placement="top" title="Term 1">').replace(/}/g,'</span>');passage=passage.replace(/\[/g,'<span class="highlightTermTwo" data-toggle="tooltip" data-placement="top" title="Term 2">').replace(/\]/g,'</span>');for(search in searchQuery.match)if(search!="documentType")var match=search;if(searchQuery.match[match]){var highlightedSearchTerm=searchQuery.match[match].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");passage=passage.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(passage)});Swag.addHelper('highlightTerms',function(searchQuery,content,options){var formattedSentence=content.sentence.formatted,t1=content.terms.first.formatted,t2=content.terms.second.formatted;formattedSentence=formattedSentence.replace(t1,'<span class="highlightTermOne" data-toggle="tooltip" data-placement="top" title="Term 1">'+t1+'</span>');formattedSentence=formattedSentence.replace(t2,'<span class="highlightTermTwo" data-toggle="tooltip" data-placement="top" title="Term 2">'+t2+'</span>');var relation=content.relation.noPrefix;if(relation=="diagnose"){relation="diagnos"}else if(relation=="cause"){relation="caus"}else if(relation=="location")relation="locat";var regEx=new RegExp(relation,"ig");formattedSentence=formattedSentence.replace(regEx,'<span class="highlightRelation" data-toggle="tooltip" data-placement="top" title="Possible Relation">'+relation+'</span>');var regEx=new RegExp(";","g");formattedSentence=formattedSentence.replace(regEx,'<span class="highlightSemicolon" data-toggle="tooltip" data-placement="top" title="Semicolon">;</span>');if(searchQuery.match["content.sentence.formatted"]){var highlightedSearchTerm=searchQuery.match["content.sentence.formatted"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");formattedSentence=formattedSentence.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(formattedSentence)});Swag.addHelper('highlightTermsInVideoAbstract',function(searchQuery,content,options){var searchFieldAbstract=this.content.metadata.abstract.nl,searchFieldTitle=this.content.metadata.title.nl,searchFieldSubject=this.content.metadata.subject.nl,searchFieldDescription=this.content.metadata.description.nl,searchFieldSpatial=this.content.metadata.spatial.nl;if(searchQuery.match["content.metadata.abstract.nl"]){var highlightedSearchTerm=searchQuery.match["content.metadata.abstract.nl"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");searchFieldAbstract=searchFieldAbstract.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(searchFieldAbstract)});Swag.addHelper('highlightTermsInVideoAbstract',function(searchQuery,content,options){var searchFieldAbstract=this.content.metadata.abstract.nl;if(searchQuery.match["content.metadata.abstract.nl"]){var highlightedSearchTerm=searchQuery.match["content.metadata.abstract.nl"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");searchFieldAbstract=searchFieldAbstract.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(searchFieldAbstract)});Swag.addHelper('highlightTermsInVideoTitle',function(searchQuery,content,options){var searchFieldTitle=this.content.metadata.title.nl;if(searchQuery.match["content.metadata.title.nl"]){var highlightedSearchTerm=searchQuery.match["content.metadata.title.nl"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");searchFieldTitle=searchFieldTitle.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(searchFieldTitle)});Swag.addHelper('highlightTermsInVideoSubject',function(searchQuery,content,options){var searchFieldSubject=this.content.metadata.subject.nl.join();if(searchQuery.match["content.metadata.subject.nl"]){var highlightedSearchTerm=searchQuery.match["content.metadata.subject.nl"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");searchFieldSubject=searchFieldSubject.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(searchFieldSubject)});Swag.addHelper('highlightTermsInVideoSpatial',function(searchQuery,content,options){var searchFieldSpatial=this.content.metadata.spatial.nl.join();if(searchQuery.match["content.metadata.spatial.nl"]){var highlightedSearchTerm=searchQuery.match["content.metadata.spatial.nl"].like,regEx=new RegExp("(?![^<>]*>)"+Utils.escapeRegexp(highlightedSearchTerm,'/'),"ig");searchFieldSpatial=searchFieldSpatial.replace(regEx,function replacer(match,p1,p2,p3,offset,string){return'<span class="highlightedSearchTerm" data-toggle="tooltip" data-placement="bottom" title="Your search term">'+match+'</span>'})};return new Handlebars.SafeString(searchFieldSpatial)});Swag.addHelper('ifarray',function(object,options){if(object.constructor===Array){return object[0]}else return object});Swag.addHelper('booltostring',function(object,options){return object.toString()});Swag.addHelper('addDocumentTypeLabel',function(documentType,options){var documentTypeLabel=documentType;if(documentType=="fullvideo")documentTypeLabel="Sound & Vision News Video";if(documentType=="relex-structured-sentence")documentTypeLabel="Watson Medical RelEx Sentence";if(documentType=="painting")documentTypeLabel="Rijksmuseum Painting";if(documentType=="drawing")documentTypeLabel="Rijksmuseum Drawing";return documentTypeLabel});Swag.addHelper('gte',function(value,test,options){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isHandlebarsSpecific(test)))){value=Utils.result(value);test=Utils.result(test);if(value>=test){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{gte}} takes two arguments (string|number, string|number).')});Swag.addHelper('lt',function(value,test,options){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isHandlebarsSpecific(test)))){value=Utils.result(value);test=Utils.result(test);if(value<test){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{lt}} takes two arguments (string|number, string|number).')});Swag.addHelper('lte',function(value,test,options){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isHandlebarsSpecific(test)))){value=Utils.result(value);test=Utils.result(test);if(value<=test){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{lte}} takes two arguments (string|number, string|number).')});Swag.addHelper('or',function(testA,testB,options){if(!((Utils.isHandlebarsSpecific(testA))&&(Utils.isHandlebarsSpecific(testB)))){testA=Utils.result(testA);testB=Utils.result(testB);if(testA||testB){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{or}} takes two arguments (string|number, string|number).')});Swag.addHelper('and',function(testA,testB,options){if(!((Utils.isHandlebarsSpecific(testA))&&(Utils.isHandlebarsSpecific(testB)))){testA=Utils.result(testA);testB=Utils.result(testB);if(testA&&testB){return options.fn(this)}else return options.inverse(this)}else return Utils.err('{{and}} takes two arguments (string|number, string|number).')});Dates={};Dates.padNumber=function(num,count,padCharacter){var lenDiff,padding;if(typeof padCharacter==='undefined')padCharacter='0';lenDiff=count-String(num).length;padding='';if(lenDiff>0)while(lenDiff--)padding+=padCharacter;return padding+num};Dates.dayOfYear=function(date){var oneJan;oneJan=new Date(date.getFullYear(),0,1);return Math.ceil((date-oneJan)/864e5)};Dates.weekOfYear=function(date){var oneJan;oneJan=new Date(date.getFullYear(),0,1);return Math.ceil((((date-oneJan)/864e5)+oneJan.getDay()+1)/7)};Dates.isoWeekOfYear=function(date){var dayDiff,dayNr,jan4,target;target=new Date(date.valueOf());dayNr=(date.getDay()+6)%7;target.setDate(target.getDate()-dayNr+3);jan4=new Date(target.getFullYear(),0,4);dayDiff=(target-jan4)/864e5;return 1+Math.ceil(dayDiff/7)};Dates.tweleveHour=function(date){if(date.getHours()>12){return date.getHours()-12}else return date.getHours()};Dates.timeZoneOffset=function(date){var hoursDiff,result;hoursDiff=-date.getTimezoneOffset()/60;result=Dates.padNumber(Math.abs(hoursDiff),4);return(hoursDiff>0?'+':'-')+result};Dates.format=function(date,format){return format.replace(Dates.formats,function(m,p){switch(p){case'a':return Dates.abbreviatedWeekdays[date.getDay()];case'A':return Dates.fullWeekdays[date.getDay()];case'b':return Dates.abbreviatedMonths[date.getMonth()];case'B':return Dates.fullMonths[date.getMonth()];case'c':return date.toLocaleString();case'C':return Math.round(date.getFullYear()/100);case'd':return Dates.padNumber(date.getDate(),2);case'D':return Dates.format(date,'%m/%d/%y');case'e':return Dates.padNumber(date.getDate(),2,' ');case'F':return Dates.format(date,'%Y-%m-%d');case'h':return Dates.format(date,'%b');case'H':return Dates.padNumber(date.getHours(),2);case'I':return Dates.padNumber(Dates.tweleveHour(date),2);case'j':return Dates.padNumber(Dates.dayOfYear(date),3);case'k':return Dates.padNumber(date.getHours(),2,' ');case'l':return Dates.padNumber(Dates.tweleveHour(date),2,' ');case'L':return Dates.padNumber(date.getMilliseconds(),3);case'm':return Dates.padNumber(date.getMonth()+1,2);case'M':return Dates.padNumber(date.getMinutes(),2);case'n':return'\n';case'p':if(date.getHours()>11){return'PM'}else return'AM';case'P':return Dates.format(date,'%p').toLowerCase();case'r':return Dates.format(date,'%I:%M:%S %p');case'R':return Dates.format(date,'%H:%M');case's':return date.getTime()/1e3;case'S':return Dates.padNumber(date.getSeconds(),2);case't':return'\t';case'T':return Dates.format(date,'%H:%M:%S');case'u':if(date.getDay()===0){return 7}else return date.getDay();case'U':return Dates.padNumber(Dates.weekOfYear(date),2);case'v':return Dates.format(date,'%e-%b-%Y');case'V':return Dates.padNumber(Dates.isoWeekOfYear(date),2);case'W':return Dates.padNumber(Dates.weekOfYear(date),2);case'w':return Dates.padNumber(date.getDay(),2);case'x':return date.toLocaleDateString();case'X':return date.toLocaleTimeString();case'y':return String(date.getFullYear()).substring(2);case'Y':return date.getFullYear();case'z':return Dates.timeZoneOffset(date);default:return match}})};Dates.formats=/%(a|A|b|B|c|C|d|D|e|F|h|H|I|j|k|l|L|m|M|n|p|P|r|R|s|S|t|T|u|U|v|V|W|w|x|X|y|Y|z)/g;Dates.abbreviatedWeekdays=['Sun','Mon','Tue','Wed','Thur','Fri','Sat'];Dates.fullWeekdays=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];Dates.abbreviatedMonths=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];Dates.fullMonths=['January','February','March','April','May','June','July','August','September','October','November','December'];Swag.addHelper('formatDate',function(date,format){if(!Utils.isUndefined(date)){date=Utils.result(date);format=Utils.result(format);date=new Date(date);return Dates.format(date,format)}else return Utils.err('{{formatDate}} takes two arguments (string|number|date, string).')});Swag.addHelper('now',function(format){var date;if(!Utils.isUndefined(format))format=Utils.result(format);date=new Date();if(Utils.isUndefined(format)){return date}else return Dates.format(date,format)});Swag.addHelper('timeago',function(date){var interval,seconds;if(!Utils.isUndefined(date)){date=Utils.result(date);date=new Date(date);seconds=Math.floor((new Date()-date)/1e3);interval=Math.floor(seconds/31536e3);if(interval>1)return""+interval+" years ago";interval=Math.floor(seconds/2592e3);if(interval>1)return""+interval+" months ago";interval=Math.floor(seconds/86400);if(interval>1)return""+interval+" days ago";interval=Math.floor(seconds/3600);if(interval>1)return""+interval+" hours ago";interval=Math.floor(seconds/60);if(interval>1)return""+interval+" minutes ago";if(Math.floor(seconds)===0){return'Just now'}else return Math.floor(seconds)+' seconds ago'}else return Utils.err('{{timeago}} takes one argument (string|number|date).')});Swag.addHelper('inflect',function(count,singular,plural,include){var word;if(!((Utils.isUndefined(count))&&(Utils.isUndefined(singular))&&(Utils.isUndefined(plural)))){count=parseFloat(Utils.result(count));singular=Utils.result(singular);plural=Utils.result(plural);word=count>1||count===0?plural:singular;if(Utils.isUndefined(include)||include===false){return word}else return""+count+" "+word}else return Utils.err('{{inflect}} takes at least three arguments (number, string, string).')});Swag.addHelper('ordinalize',function(value){var normal,_ref;if(!Utils.isUndefined(value)){value=parseFloat(Utils.result(value));normal=Math.abs(Math.round(value));if(_ref=normal%100,__indexOf.call([11,12,13],_ref)>=0){return""+value+"th"}else switch(normal%10){case 1:return""+value+"st";case 2:return""+value+"nd";case 3:return""+value+"rd";default:return""+value+"th"}}else return Utils.err('{{ordinalize}} takes one arguments (number).')});HTML={};HTML.parseAttributes=function(hash){return Object.keys(hash).map(function(key){return""+key+"=\""+hash[key]+"\""}).join(' ')};Swag.addHelper('ul',function(context,options){return("<ul "+(HTML.parseAttributes(options.hash))+">")+context.map(function(item){return"<li>"+(options.fn(Utils.result(item)))+"</li>"}).join('\n')+"</ul>"});Swag.addHelper('ol',function(context,options){return("<ol "+(HTML.parseAttributes(options.hash))+">")+context.map(function(item){return"<li>"+(options.fn(Utils.result(item)))+"</li>"}).join('\n')+"</ol>"});Swag.addHelper('br',function(count,options){var br,i;br='<br>';if(!Utils.isUndefined(count)){i=0;count=Utils.result(count);while(i<(parseFloat(count))-1){br+='<br>';i++}};return Utils.safeString(br)});Swag.addHelper('log',function(value){if(!Utils.isUndefined(value)){value=Utils.result(value);return console.log(value)}else return Utils.err('{{log}} takes one arguments (string|number|boolean|array|object).')});Swag.addHelper('debug',function(value){if(!Utils.isUndefined(value))value=Utils.result(value);console.log('Context: ',this);if(!Utils.isUndefined(value))console.log('Value: ',value);return console.log('-----------------------------------------------')});Swag.addHelper('default',function(value,defaultValue){if(!((Utils.isHandlebarsSpecific(value))&&(Utils.isUndefined(defaultValue)))){value=Utils.result(value);defaultValue=Utils.result(defaultValue);return value||defaultValue}else return Utils.err('{{default}} takes two arguments (string|number, string|number).')});if(typeof Ember==="undefined"||Ember===null)Swag.addHelper('partial',function(name,data,template){var path;if(!(Utils.isUndefined(name))){name=Utils.result(name);data=Utils.result(data);path=Swag.Config.partialsPath+name;if(!Utils.isUndefined(template))template=Utils.result(template);if(Swag.Handlebars.partials[name]==null)if(!Utils.isUndefined(template)){if(Utils.isString(template))template=Swag.Handlebars.compile(template);Swag.Handlebars.registerPartial(name,template)}else if((typeof define!=="undefined"&&define!==null)&&(Utils.isFunc(define))&&define.amd){if(!Swag.Config.precompiledTemplates)path="!text"+path;require([path],function(template){if(Utils.isString(template))template=Swag.Handlebars.compile(template);return Swag.Handlebars.registerPartial(name,template)})}else if(typeof require!=="undefined"&&require!==null){template=require(path);if(Utils.isString(template))template=Swag.Handlebars.compile(template);Swag.Handlebars.registerPartial(name,template)}else Utils.err('{{partial}} no amd or commonjs module support found.');return Utils.safeString(Swag.Handlebars.partials[name](data))}else return Utils.err('{{partial}} takes at least one argument (string).')})}).call(this);;
!function($){'use strict';$.expr[':'].icontains=function(obj,index,meta){return $(obj).text().toUpperCase().indexOf(meta[3].toUpperCase())>=0};var Selectpicker=function(element,options,e){if(e){e.stopPropagation();e.preventDefault()};this.$element=$(element);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=$.extend({},$.fn.selectpicker.defaults,this.$element.data(),typeof options=='object'&&options);if(this.options.title===null)this.options.title=this.$element.attr('title');this.val=Selectpicker.prototype.val;this.render=Selectpicker.prototype.render;this.refresh=Selectpicker.prototype.refresh;this.setStyle=Selectpicker.prototype.setStyle;this.selectAll=Selectpicker.prototype.selectAll;this.deselectAll=Selectpicker.prototype.deselectAll;this.init()};Selectpicker.prototype={constructor:Selectpicker,init:function(){var that=this,id=this.$element.attr('id');this.$element.hide();this.multiple=this.$element.prop('multiple');this.autofocus=this.$element.prop('autofocus');this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find('> .dropdown-menu');this.$button=this.$newElement.find('> button');this.$searchbox=this.$newElement.find('input');if(id!==undefined){this.$button.attr('data-id',id);$('label[for="'+id+'"]').click(function(e){e.preventDefault();that.$button.focus()})};this.checkDisabled();this.clickListener();if(this.options.liveSearch)this.liveSearchListener();this.render();this.liHeight();this.setStyle();this.setWidth();if(this.options.container)this.selectPosition();this.$menu.data('this',this);this.$newElement.data('this',this)},createDropdown:function(){var multiple=this.multiple?' show-tick':'',inputGroup=this.$element.parent().hasClass('input-group')?' input-group-btn':'',autofocus=this.autofocus?' autofocus':'',header=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+'</div>':'',searchbox=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':'',actionsbox=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">Select All</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">Deselect All</button></div></div>':'',drop='<div class="btn-group bootstrap-select'+multiple+inputGroup+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+autofocus+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+header+searchbox+actionsbox+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return $(drop)},createView:function(){var $drop=this.createDropdown(),$li=this.createLi();$drop.find('ul').append($li);return $drop},reloadLi:function(){this.destroyLi();var $li=this.createLi();this.$menu.find('ul').append($li)},destroyLi:function(){this.$menu.find('li').remove()},createLi:function(){var that=this,_liA=[],_liHtml='';this.$element.find('option').each(function(){var $this=$(this),optionClass=$this.attr('class')||'',inline=$this.attr('style')||'',text=$this.data('content')?$this.data('content'):$this.html(),subtext=$this.data('subtext')!==undefined?'<small class="muted text-muted">'+$this.data('subtext')+'</small>':'',icon=$this.data('icon')!==undefined?'<i class="'+that.options.iconBase+' '+$this.data('icon')+'"></i> ':'';if(icon!==''&&($this.is(':disabled')||$this.parent().is(':disabled')))icon='<span>'+icon+'</span>';if(!$this.data('content'))text=icon+'<span class="text">'+text+subtext+'</span>';if(that.options.hideDisabled&&($this.is(':disabled')||$this.parent().is(':disabled'))){_liA.push('<a style="min-height: 0; padding: 0"></a>')}else if($this.parent().is('optgroup')&&$this.data('divider')!==true){if($this.index()===0){var label=$this.parent().attr('label'),labelSubtext=$this.parent().data('subtext')!==undefined?'<small class="muted text-muted">'+$this.parent().data('subtext')+'</small>':'',labelIcon=$this.parent().data('icon')?'<i class="'+$this.parent().data('icon')+'"></i> ':'';label=labelIcon+'<span class="text">'+label+labelSubtext+'</span>';if($this[0].index!==0){_liA.push('<div class="div-contain"><div class="divider"></div></div><dt>'+label+'</dt>'+that.createA(text,'opt '+optionClass,inline))}else _liA.push('<dt>'+label+'</dt>'+that.createA(text,'opt '+optionClass,inline))}else _liA.push(that.createA(text,'opt '+optionClass,inline))}else if($this.data('divider')===true){_liA.push('<div class="div-contain"><div class="divider"></div></div>')}else if($(this).data('hidden')===true){_liA.push('<a></a>')}else _liA.push(that.createA(text,optionClass,inline))});$.each(_liA,function(i,item){var hide=item==='<a></a>'?'class="hide is-hidden"':'';_liHtml+='<li rel="'+i+'"'+hide+'>'+item+'</li>'});if(!this.multiple&&this.$element.find('option:selected').length===0&&!this.options.title)this.$element.find('option').eq(0).prop('selected',true).attr('selected','selected');return $(_liHtml)},createA:function(text,classes,inline){return'<a tabindex="0" class="'+classes+'" style="'+inline+'">'+text+'<i class="'+this.options.iconBase+' '+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(updateLi){var that=this;if(updateLi!==false)this.$element.find('option').each(function(index){that.setDisabled(index,$(this).is(':disabled')||$(this).parent().is(':disabled'));that.setSelected(index,$(this).is(':selected'))});this.tabIndex();var selectedItems=this.$element.find('option:selected').map(function(){var $this=$(this),icon=$this.data('icon')&&that.options.showIcon?'<i class="'+that.options.iconBase+' '+$this.data('icon')+'"></i> ':'',subtext;if(that.options.showSubtext&&$this.attr('data-subtext')&&!that.multiple){subtext=' <small class="muted text-muted">'+$this.data('subtext')+'</small>'}else subtext='';if($this.data('content')&&that.options.showContent){return $this.data('content')}else if($this.attr('title')!==undefined){return $this.attr('title')}else return icon+$this.html()+subtext}).toArray(),title=!this.multiple?selectedItems[0]:selectedItems.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf('count')>-1){var max=this.options.selectedTextFormat.split('>'),notDisabled=this.options.hideDisabled?':not([disabled])':'';if((max.length>1&&selectedItems.length>max[1])||(max.length==1&&selectedItems.length>=2))title=this.options.countSelectedText.replace('{0}',selectedItems.length).replace('{1}',this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+notDisabled).length)};this.options.title=this.$element.attr('title');if(!title)title=this.options.title!==undefined?this.options.title:this.options.noneSelectedText;this.$button.attr('title',$.trim(title));this.$newElement.find('.filter-option').html(title)},setStyle:function(style,status){if(this.$element.attr('class'))this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device/gi,''));var buttonClass=style?style:this.options.style;if(status=='add'){this.$button.addClass(buttonClass)}else if(status=='remove'){this.$button.removeClass(buttonClass)}else{this.$button.removeClass(this.options.style);this.$button.addClass(buttonClass)}},liHeight:function(){if(this.options.size===false)return;var $selectClone=this.$menu.parent().clone().find('> .dropdown-toggle').prop('autofocus',false).end().appendTo('body'),$menuClone=$selectClone.addClass('open').find('> .dropdown-menu'),liHeight=$menuClone.find('li > a').outerHeight(),headerHeight=this.options.header?$menuClone.find('.popover-title').outerHeight():0,searchHeight=this.options.liveSearch?$menuClone.find('.bootstrap-select-searchbox').outerHeight():0,actionsHeight=this.options.actionsBox?$menuClone.find('.bs-actionsbox').outerHeight():0;$selectClone.remove();this.$newElement.data('liHeight',liHeight).data('headerHeight',headerHeight).data('searchHeight',searchHeight).data('actionsHeight',actionsHeight)},setSize:function(){var that=this,menu=this.$menu,menuInner=menu.find('.inner'),selectHeight=this.$newElement.outerHeight(),liHeight=this.$newElement.data('liHeight'),headerHeight=this.$newElement.data('headerHeight'),searchHeight=this.$newElement.data('searchHeight'),actionsHeight=this.$newElement.data('actionsHeight'),divHeight=menu.find('li .divider').outerHeight(true),menuPadding=parseInt(menu.css('padding-top'))+parseInt(menu.css('padding-bottom'))+parseInt(menu.css('border-top-width'))+parseInt(menu.css('border-bottom-width')),notDisabled=this.options.hideDisabled?':not(.disabled)':'',$window=$(window),menuExtras=menuPadding+parseInt(menu.css('margin-top'))+parseInt(menu.css('margin-bottom'))+2,menuHeight,selectOffsetTop,selectOffsetBot,posVert=function(){selectOffsetTop=that.$newElement.offset().top-$window.scrollTop();selectOffsetBot=$window.height()-selectOffsetTop-selectHeight};posVert();if(this.options.header)menu.css('padding-top',0);if(this.options.size=='auto'){var getSize=function(){var minHeight,lisVis=that.$lis.not('.hide');posVert();menuHeight=selectOffsetBot-menuExtras;if(that.options.dropupAuto)that.$newElement.toggleClass('dropup',(selectOffsetTop>selectOffsetBot)&&((menuHeight-menuExtras)<menu.height()));if(that.$newElement.hasClass('dropup'))menuHeight=selectOffsetTop-menuExtras;if((lisVis.length+lisVis.find('dt').length)>3){minHeight=liHeight*3+menuExtras-2}else minHeight=0;menu.css({'max-height':menuHeight+'px',overflow:'hidden','min-height':minHeight+headerHeight+searchHeight+actionsHeight+'px'});menuInner.css({'max-height':menuHeight-headerHeight-searchHeight-actionsHeight-menuPadding+'px','overflow-y':'auto','min-height':Math.max(minHeight-menuPadding,0)+'px'})};getSize();this.$searchbox.off('input.getSize propertychange.getSize').on('input.getSize propertychange.getSize',getSize);$(window).off('resize.getSize').on('resize.getSize',getSize);$(window).off('scroll.getSize').on('scroll.getSize',getSize)}else if(this.options.size&&this.options.size!='auto'&&menu.find('li'+notDisabled).length>this.options.size){var optIndex=menu.find('li'+notDisabled+' > *').filter(':not(.div-contain)').slice(0,this.options.size).last().parent().index(),divLength=menu.find('li').slice(0,optIndex+1).find('.div-contain').length;menuHeight=liHeight*this.options.size+divLength*divHeight+menuPadding;if(that.options.dropupAuto)this.$newElement.toggleClass('dropup',(selectOffsetTop>selectOffsetBot)&&(menuHeight<menu.height()));menu.css({'max-height':menuHeight+headerHeight+searchHeight+actionsHeight+'px',overflow:'hidden'});menuInner.css({'max-height':menuHeight-menuPadding+'px','overflow-y':'auto'})}},setWidth:function(){if(this.options.width=='auto'){this.$menu.css('min-width','0');var selectClone=this.$newElement.clone().appendTo('body'),ulWidth=selectClone.find('> .dropdown-menu').css('width'),btnWidth=selectClone.css('width','auto').find('> button').css('width');selectClone.remove();this.$newElement.css('width',Math.max(parseInt(ulWidth),parseInt(btnWidth))+'px')}else if(this.options.width=='fit'){this.$menu.css('min-width','');this.$newElement.css('width','').addClass('fit-width')}else if(this.options.width){this.$menu.css('min-width','');this.$newElement.css('width',this.options.width)}else{this.$menu.css('min-width','');this.$newElement.css('width','')};if(this.$newElement.hasClass('fit-width')&&this.options.width!=='fit')this.$newElement.removeClass('fit-width')},selectPosition:function(){var that=this,drop='<div />',$drop=$(drop),pos,actualHeight,getPlacement=function($element){$drop.addClass($element.attr('class').replace(/form-control/gi,'')).toggleClass('dropup',$element.hasClass('dropup'));pos=$element.offset();actualHeight=$element.hasClass('dropup')?0:$element[0].offsetHeight;$drop.css({top:pos.top+actualHeight,left:pos.left,width:$element[0].offsetWidth,position:'absolute'})};this.$newElement.on('click',function(){if(that.isDisabled())return;getPlacement($(this));$drop.appendTo(that.options.container);$drop.toggleClass('open',!$(this).hasClass('open'));$drop.append(that.$menu)});$(window).resize(function(){getPlacement(that.$newElement)});$(window).on('scroll',function(){getPlacement(that.$newElement)});$('html').on('click',function(e){if($(e.target).closest(that.$newElement).length<1)$drop.removeClass('open')})},mobile:function(){this.$element.addClass('mobile-device').appendTo(this.$newElement);if(this.options.container)this.$menu.hide()},refresh:function(){this.$lis=null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},setSelected:function(index,selected){if(this.$lis==null)this.$lis=this.$menu.find('li');$(this.$lis[index]).toggleClass('selected',selected)},setDisabled:function(index,disabled){if(this.$lis==null)this.$lis=this.$menu.find('li');if(disabled){$(this.$lis[index]).addClass('disabled').find('a').attr('href','#').attr('tabindex',-1)}else $(this.$lis[index]).removeClass('disabled').find('a').removeAttr('href').attr('tabindex',0)},isDisabled:function(){return this.$element.is(':disabled')},checkDisabled:function(){var that=this;if(this.isDisabled()){this.$button.addClass('disabled').attr('tabindex',-1)}else{if(this.$button.hasClass('disabled'))this.$button.removeClass('disabled');if(this.$button.attr('tabindex')==-1)if(!this.$element.data('tabindex'))this.$button.removeAttr('tabindex')};this.$button.click(function(){return!that.isDisabled()})},tabIndex:function(){if(this.$element.is('[tabindex]')){this.$element.data('tabindex',this.$element.attr('tabindex'));this.$button.attr('tabindex',this.$element.data('tabindex'))}},clickListener:function(){var that=this;$('body').on('touchstart.dropdown','.dropdown-menu',function(e){e.stopPropagation()});this.$newElement.on('click',function(){that.setSize();if(!that.options.liveSearch&&!that.multiple)setTimeout(function(){that.$menu.find('.selected a').focus()},10)});this.$menu.on('click','li a',function(e){var clickedIndex=$(this).parent().index(),prevValue=that.$element.val(),prevIndex=that.$element.prop('selectedIndex');if(that.multiple)e.stopPropagation();e.preventDefault();if(!that.isDisabled()&&!$(this).parent().hasClass('disabled')){var $options=that.$element.find('option'),$option=$options.eq(clickedIndex),state=$option.prop('selected'),$optgroup=$option.parent('optgroup'),maxOptions=that.options.maxOptions,maxOptionsGrp=$optgroup.data('maxOptions')||false;if(!that.multiple){$options.prop('selected',false);$option.prop('selected',true);that.$menu.find('.selected').removeClass('selected');that.setSelected(clickedIndex,true)}else{$option.prop('selected',!state);that.setSelected(clickedIndex,!state);if((maxOptions!==false)||(maxOptionsGrp!==false)){var maxReached=maxOptions<$options.filter(':selected').length,maxReachedGrp=maxOptionsGrp<$optgroup.find('option:selected').length,maxOptionsArr=that.options.maxOptionsText,maxTxt=maxOptionsArr[0].replace('{n}',maxOptions),maxTxtGrp=maxOptionsArr[1].replace('{n}',maxOptionsGrp),$notify=$('<div class="notify"></div>');if((maxOptions&&maxReached)||(maxOptionsGrp&&maxReachedGrp)){if(maxOptionsArr[2]){maxTxt=maxTxt.replace('{var}',maxOptionsArr[2][maxOptions>1?0:1]);maxTxtGrp=maxTxtGrp.replace('{var}',maxOptionsArr[2][maxOptionsGrp>1?0:1])};$option.prop('selected',false);that.$menu.append($notify);if(maxOptions&&maxReached){$notify.append($('<div>'+maxTxt+'</div>'));that.$element.trigger('maxReached.bs.select')};if(maxOptionsGrp&&maxReachedGrp){$notify.append($('<div>'+maxTxtGrp+'</div>'));that.$element.trigger('maxReachedGrp.bs.select')};setTimeout(function(){that.setSelected(clickedIndex,false)},10);$notify.delay(750).fadeOut(300,function(){$(this).remove()})}}};if(!that.multiple){that.$button.focus()}else if(that.options.liveSearch)that.$searchbox.focus();if((prevValue!=that.$element.val()&&that.multiple)||(prevIndex!=that.$element.prop('selectedIndex')&&!that.multiple))that.$element.change()}});this.$menu.on('click','li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)',function(e){if(e.target==this){e.preventDefault();e.stopPropagation();if(!that.options.liveSearch){that.$button.focus()}else that.$searchbox.focus()}});this.$menu.on('click','.popover-title .close',function(){that.$button.focus()});this.$searchbox.on('click',function(e){e.stopPropagation()});this.$menu.on('click','.actions-btn',function(e){if(that.options.liveSearch){that.$searchbox.focus()}else that.$button.focus();e.preventDefault();e.stopPropagation();if($(this).is('.bs-select-all')){that.selectAll()}else that.deselectAll();that.$element.change()});this.$element.change(function(){that.render(false)})},liveSearchListener:function(){var that=this,no_results=$('<li class="no-results"></li>');this.$newElement.on('click.dropdown.data-api',function(){that.$menu.find('.active').removeClass('active');if(!!that.$searchbox.val()){that.$searchbox.val('');that.$lis.not('.is-hidden').removeClass('hide');if(!!no_results.parent().length)no_results.remove()};if(!that.multiple)that.$menu.find('.selected').addClass('active');setTimeout(function(){that.$searchbox.focus()},10)});this.$searchbox.on('input propertychange',function(){if(that.$searchbox.val()){that.$lis.not('.is-hidden').removeClass('hide').find('a').not(':icontains('+that.$searchbox.val()+')').parent().addClass('hide');if(!that.$menu.find('li').filter(':visible:not(.no-results)').length){if(!!no_results.parent().length)no_results.remove();no_results.html(that.options.noneResultsText+' "'+that.$searchbox.val()+'"').show();that.$menu.find('li').last().after(no_results)}else if(!!no_results.parent().length)no_results.remove()}else{that.$lis.not('.is-hidden').removeClass('hide');if(!!no_results.parent().length)no_results.remove()};that.$menu.find('li.active').removeClass('active');that.$menu.find('li').filter(':visible:not(.divider)').eq(0).addClass('active').find('a').focus();$(this).focus()});this.$menu.on('mouseenter','a',function(e){that.$menu.find('.active').removeClass('active');$(e.currentTarget).parent().not('.disabled').addClass('active')});this.$menu.on('mouseleave','a',function(){that.$menu.find('.active').removeClass('active')})},val:function(value){if(value!==undefined){this.$element.val(value);this.$element.change();return this.$element}else return this.$element.val()},selectAll:function(){if(this.$lis==null)this.$lis=this.$menu.find('li');this.$element.find('option:enabled').prop('selected',true);$(this.$lis).filter(':not(.disabled)').addClass('selected');this.render(false)},deselectAll:function(){if(this.$lis==null)this.$lis=this.$menu.find('li');this.$element.find('option:enabled').prop('selected',false);$(this.$lis).filter(':not(.disabled)').removeClass('selected');this.render(false)},keydown:function(e){var $this,$items,$parent,index,next,first,last,prev,nextPrev,that,prevIndex,isActive,keyCodeMap={32:' ',48:'0',49:'1',50:'2',51:'3',52:'4',53:'5',54:'6',55:'7',56:'8',57:'9',59:';',65:'a',66:'b',67:'c',68:'d',69:'e',70:'f',71:'g',72:'h',73:'i',74:'j',75:'k',76:'l',77:'m',78:'n',79:'o',80:'p',81:'q',82:'r',83:'s',84:'t',85:'u',86:'v',87:'w',88:'x',89:'y',90:'z',96:'0',97:'1',98:'2',99:'3',100:'4',101:'5',102:'6',103:'7',104:'8',105:'9'};$this=$(this);$parent=$this.parent();if($this.is('input'))$parent=$this.parent().parent();that=$parent.data('this');if(that.options.liveSearch)$parent=$this.parent().parent();if(that.options.container)$parent=that.$menu;$items=$('[role=menu] li:not(.divider) a',$parent);isActive=that.$menu.parent().hasClass('open');if(!isActive&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))){if(!that.options.container){that.setSize();that.$menu.parent().addClass('open');isActive=that.$menu.parent().hasClass('open')}else that.$newElement.trigger('click');that.$searchbox.focus()};if(that.options.liveSearch){if(/(^9$|27)/.test(e.keyCode)&&isActive&&that.$menu.find('.active').length===0){e.preventDefault();that.$menu.parent().removeClass('open');that.$button.focus()};$items=$('[role=menu] li:not(.divider):visible',$parent);if(!$this.val()&&!/(38|40)/.test(e.keyCode))if($items.filter('.active').length===0)$items=that.$newElement.find('li').filter(':icontains('+keyCodeMap[e.keyCode]+')')};if(!$items.length)return;if(/(38|40)/.test(e.keyCode)){index=$items.index($items.filter(':focus'));first=$items.parent(':not(.disabled):visible').first().index();last=$items.parent(':not(.disabled):visible').last().index();next=$items.eq(index).parent().nextAll(':not(.disabled):visible').eq(0).index();prev=$items.eq(index).parent().prevAll(':not(.disabled):visible').eq(0).index();nextPrev=$items.eq(next).parent().prevAll(':not(.disabled):visible').eq(0).index();if(that.options.liveSearch){$items.each(function(i){if($(this).is(':not(.disabled)'))$(this).data('index',i)});index=$items.index($items.filter('.active'));first=$items.filter(':not(.disabled):visible').first().data('index');last=$items.filter(':not(.disabled):visible').last().data('index');next=$items.eq(index).nextAll(':not(.disabled):visible').eq(0).data('index');prev=$items.eq(index).prevAll(':not(.disabled):visible').eq(0).data('index');nextPrev=$items.eq(next).prevAll(':not(.disabled):visible').eq(0).data('index')};prevIndex=$this.data('prevIndex');if(e.keyCode==38){if(that.options.liveSearch)index-=1;if(index!=nextPrev&&index>prev)index=prev;if(index<first)index=first;if(index==prevIndex)index=last};if(e.keyCode==40){if(that.options.liveSearch)index+=1;if(index==-1)index=0;if(index!=nextPrev&&index<next)index=next;if(index>last)index=last;if(index==prevIndex)index=first};$this.data('prevIndex',index);if(!that.options.liveSearch){$items.eq(index).focus()}else{e.preventDefault();if(!$this.is('.dropdown-toggle')){$items.removeClass('active');$items.eq(index).addClass('active').find('a').focus();$this.focus()}}}else if(!$this.is('input')){var keyIndex=[],count,prevKey;$items.each(function(){if($(this).parent().is(':not(.disabled)'))if($.trim($(this).text().toLowerCase()).substring(0,1)==keyCodeMap[e.keyCode])keyIndex.push($(this).parent().index())});count=$(document).data('keycount');count++;$(document).data('keycount',count);prevKey=$.trim($(':focus').text().toLowerCase()).substring(0,1);if(prevKey!=keyCodeMap[e.keyCode]){count=1;$(document).data('keycount',count)}else if(count>=keyIndex.length){$(document).data('keycount',0);if(count>keyIndex.length)count=1};$items.eq(keyIndex[count-1]).focus()};if(/(13|32|^9$)/.test(e.keyCode)&&isActive){if(!/(32)/.test(e.keyCode))e.preventDefault();if(!that.options.liveSearch){$(':focus').click()}else if(!/(32)/.test(e.keyCode)){that.$menu.find('.active a').click();$this.focus()};$(document).data('keycount',0)};if((/(^9$|27)/.test(e.keyCode)&&isActive&&(that.multiple||that.options.liveSearch))||(/(27)/.test(e.keyCode)&&!isActive)){that.$menu.parent().removeClass('open');that.$button.focus()}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove();this.$element.remove()}};$.fn.selectpicker=function(option,event){var args=arguments,value,chain=this.each(function(){if($(this).is('select')){var $this=$(this),data=$this.data('selectpicker'),options=typeof option=='object'&&option;if(!data){$this.data('selectpicker',(data=new Selectpicker(this,options,event)))}else if(options)for(var i in options)data.options[i]=options[i];if(typeof option=='string'){var property=option;if(data[property]instanceof Function){[].shift.apply(args);value=data[property].apply(data,args)}else value=data.options[property]}}});if(value!==undefined){return value}else return chain};$.fn.selectpicker.defaults={style:'btn-default',size:'auto',title:null,selectedTextFormat:'values',noneSelectedText:'Nothing selected',noneResultsText:'No results match',countSelectedText:'{0} of {1} selected',maxOptionsText:['Limit reached ({n} {var} max)','Group limit reached ({n} {var} max)',['items','item']],width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,actionsBox:false,multipleSeparator:', ',iconBase:'glyphicon',tickIcon:'glyphicon-ok',maxOptions:false};$(document).data('keycount',0).on('keydown','.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input',Selectpicker.prototype.keydown).on('focusin.modal','.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input',function(e){e.stopPropagation()})}(window.jQuery);;
(function($,undefined){var $window=$(window)
function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}
function UTCToday(){var today=new Date();return UTCDate(today.getFullYear(),today.getMonth(),today.getDate())}
function alias(method){return function(){return this[method].apply(this,arguments)}};var DateArray=(function(){var extras={get:function(i){return this.slice(i)[0]},contains:function(d){var val=d&&d.valueOf();for(var i=0,l=this.length;i<l;i++)if(this[i].valueOf()===val)return i;return-1},remove:function(i){this.splice(i,1)},replace:function(new_array){if(!new_array)return;if(!$.isArray(new_array))new_array=[new_array];this.clear();this.push.apply(this,new_array)},clear:function(){this.splice(0)},copy:function(){var a=new DateArray();a.replace(this);return a}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,extras);return a}})(),Datepicker=function(element,options){this.dates=new DateArray();this.viewDate=UTCToday();this.focusDate=null;this._process_options(options);this.element=$(element);this.isInline=false;this.isInput=this.element.is('input');this.component=this.element.is('.date')?this.element.find('.add-on, .input-group-addon, .btn'):false;this.hasInput=this.component&&this.element.find('input').length;if(this.component&&this.component.length===0)this.component=false;this.picker=$(DPGlobal.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass('datepicker-inline').appendTo(this.element)}else this.picker.addClass('datepicker-dropdown dropdown-menu');if(this.o.rtl)this.picker.addClass('datepicker-rtl');this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find('tfoot th.today').attr('colspan',function(i,val){return parseInt(val)+1});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline)this.show()};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o),lang=o.language;if(!dates[lang]){lang=lang.split('-')[0];if(!dates[lang])lang=defaults.language};o.language=lang;switch(o.startView){case 2:case'decade':o.startView=2;break;case 1:case'year':o.startView=1;break;default:o.startView=0};switch(o.minViewMode){case 1:case'months':o.minViewMode=1;break;case 2:case'years':o.minViewMode=2;break;default:o.minViewMode=0};o.startView=Math.max(o.startView,o.minViewMode);if(o.multidate!==true){o.multidate=Number(o.multidate)||false;if(o.multidate!==false){o.multidate=Math.max(0,o.multidate)}else o.multidate=1};o.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=((o.weekStart+6)%7);var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity)if(!!o.startDate){if(o.startDate instanceof Date){o.startDate=this._local_to_utc(this._zero_time(o.startDate))}else o.startDate=DPGlobal.parseDate(o.startDate,format,o.language)}else o.startDate=-Infinity;if(o.endDate!==Infinity)if(!!o.endDate){if(o.endDate instanceof Date){o.endDate=this._local_to_utc(this._zero_time(o.endDate))}else o.endDate=DPGlobal.parseDate(o.endDate,format,o.language)}else o.endDate=Infinity;o.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled))o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/);o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)});var plc=String(o.orientation).toLowerCase().split(/\s+/g),_plc=o.orientation.toLowerCase();plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word)});o.orientation={x:'auto',y:'auto'};if(!_plc||_plc==='auto');else if(plc.length===1){switch(plc[0]){case'top':case'bottom':o.orientation.y=plc[0];break;case'left':case'right':o.orientation.x=plc[0];break}}else{_plc=$.grep(plc,function(word){return/^left|right$/.test(word)});o.orientation.x=_plc[0]||'auto';_plc=$.grep(plc,function(word){return/^top|bottom$/.test(word)});o.orientation.y=_plc[0]||'auto'}},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var i=0,el,ch,ev;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]};el.on(ev,ch)}},_unapplyEvents:function(evs){for(var i=0,el,ev,ch;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]};el.off(ev,ch)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)}]]}else if(this.component&&this.hasInput){this._events=[[this.element.find('input'),{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]]}else if(this.element.is('div')){this.isInline=true}else this._events=[[this.element,{click:$.proxy(this.show,this)}]];this._events.push([this.element,'*',{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]);this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{'mousedown touchstart':$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length))this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1),local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){if(arguments.length===0){ix=this.dates.length-1;format=this.o.format}else if(typeof ix==='string'){format=ix;ix=this.dates.length-1};format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(){if(!this.isInline)this.picker.appendTo('body');this.picker.show();this.place();this._attachSecondaryEvents();this._trigger('show')},hide:function(){if(this.isInline)return;if(!this.picker.is(':visible'))return;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find('input').val()))this.setValue();this._trigger('hide')},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput)delete this.element.data().date},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+(utc.getTimezoneOffset()*6e4))},_local_to_utc:function(local){return local&&new Date(local.getTime()-(local.getTimezoneOffset()*6e4))},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate())},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,args);this._trigger('changeDate');this.setValue()},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,$.map(args,this._utc_to_local));this._trigger('changeDate');this.setValue()},setDate:alias('setDates'),setUTCDate:alias('setUTCDates'),setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){if(this.component)this.element.find('input').val(formatted).change()}else this.element.val(formatted).change()},getFormattedDate:function(format){if(format===undefined)format=this.o.format;var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang)}).join(this.o.multidateSeparator)},setStartDate:function(startDate){this._process_options({startDate:startDate});this.update();this.updateNavArrows()},setEndDate:function(endDate){this._process_options({endDate:endDate});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return;var calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,windowWidth=$window.width(),windowHeight=$window.height(),scrollTop=$window.scrollTop(),zIndex=parseInt(this.element.parents().filter(function(){return $(this).css('z-index')!=='auto'}).first().css('z-index'))+10,offset=this.component?this.component.parent().offset():this.element.offset(),height=this.component?this.component.outerHeight(true):this.element.outerHeight(false),width=this.component?this.component.outerWidth(true):this.element.outerWidth(false),left=offset.left,top=offset.top;this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left');if(this.o.orientation.x!=='auto'){this.picker.addClass('datepicker-orient-'+this.o.orientation.x);if(this.o.orientation.x==='right')left-=calendarWidth-width}else{this.picker.addClass('datepicker-orient-left');if(offset.left<0){left-=offset.left-visualPadding}else if(offset.left+calendarWidth>windowWidth)left=windowWidth-calendarWidth-visualPadding};var yorient=this.o.orientation.y,top_overflow,bottom_overflow;if(yorient==='auto'){top_overflow=-scrollTop+offset.top-calendarHeight;bottom_overflow=scrollTop+windowHeight-(offset.top+height+calendarHeight);if(Math.max(top_overflow,bottom_overflow)===bottom_overflow){yorient='top'}else yorient='bottom'};this.picker.addClass('datepicker-orient-'+yorient);if(yorient==='top'){top+=height}else top-=calendarHeight+parseInt(this.picker.css('padding-top'));this.picker.css({top:top,left:left,zIndex:zIndex})},_allow_update:true,update:function(){if(!this._allow_update)return;var oldDates=this.dates.copy(),dates=[],fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,date){if(date instanceof Date)date=this._local_to_utc(date);dates.push(date)},this));fromArgs=true}else{dates=this.isInput?this.element.val():this.element.data('date')||this.element.find('input').val();if(dates&&this.o.multidate){dates=dates.split(this.o.multidateSeparator)}else dates=[dates];delete this.element.data().date};dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language)},this));dates=$.grep(dates,$.proxy(function(date){return(date<this.o.startDate||date>this.o.endDate||!date)},this),true);this.dates.replace(dates);if(this.dates.length){this.viewDate=new Date(this.dates.get(-1))}else if(this.viewDate<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDate);if(fromArgs){this.setValue()}else if(dates.length)if(String(oldDates)!==String(this.dates))this._trigger('changeDate');if(!this.dates.length&&oldDates.length)this._trigger('clearDate');this.fill()},fillDow:function(){var dowCnt=this.o.weekStart,html='<tr>';if(this.o.calendarWeeks){var cell='<th class="cw">&nbsp;</th>';html+=cell;this.picker.find('.datepicker-days thead tr:first-child').prepend(cell)};while(dowCnt<this.o.weekStart+7)html+='<th class="dow">'+dates[this.o.language].daysMin[(dowCnt++)%7]+'</th>';html+='</tr>';this.picker.find('.datepicker-days thead').append(html)},fillMonths:function(){var html='',i=0;while(i<12)html+='<span class="month">'+dates[this.o.language].monthsShort[i++]+'</span>';this.picker.find('.datepicker-months td').html(html)},setRange:function(range){if(!range||!range.length){delete this.range}else this.range=$.map(range,function(d){return d.valueOf()});this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date();if(date.getUTCFullYear()<year||(date.getUTCFullYear()===year&&date.getUTCMonth()<month)){cls.push('old')}else if(date.getUTCFullYear()>year||(date.getUTCFullYear()===year&&date.getUTCMonth()>month))cls.push('new');if(this.focusDate&&date.valueOf()===this.focusDate.valueOf())cls.push('focused');if(this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate())cls.push('today');if(this.dates.contains(date)!==-1)cls.push('active');if(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)cls.push('disabled');if(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1])cls.push('range');if($.inArray(date.valueOf(),this.range)!==-1)cls.push('selected')};return cls},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,todaytxt=dates[this.o.language].today||dates.en.today||'',cleartxt=dates[this.o.language].clear||dates.en.clear||'',tooltip;this.picker.find('.datepicker-days thead th.datepicker-switch').text(dates[this.o.language].months[month]+' '+year);this.picker.find('tfoot th.today').text(todaytxt).toggle(this.o.todayBtn!==false);this.picker.find('tfoot th.clear').text(cleartxt).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[],clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()===this.o.weekStart){html.push('<tr>');if(this.o.calendarWeeks){var ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),th=new Date(Number(ws)+(7+4-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+'</td>')}};clsName=this.getClassNames(prevMonth);clsName.push('day');if(this.o.beforeShowDay!==$.noop){var before=this.o.beforeShowDay(this._utc_to_local(prevMonth));if(before===undefined){before={}}else if(typeof before==='boolean'){before={enabled:before}}else if(typeof before==='string')before={classes:before};if(before.enabled===false)clsName.push('disabled');if(before.classes)clsName=clsName.concat(before.classes.split(/\s+/));if(before.tooltip)tooltip=before.tooltip};clsName=$.unique(clsName);html.push('<td class="'+clsName.join(' ')+'"'+(tooltip?' title="'+tooltip+'"':'')+'>'+prevMonth.getUTCDate()+'</td>');if(prevMonth.getUTCDay()===this.o.weekEnd)html.push('</tr>');prevMonth.setUTCDate(prevMonth.getUTCDate()+1)};this.picker.find('.datepicker-days tbody').empty().append(html.join(''));var months=this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)months.eq(d.getUTCMonth()).addClass('active')});if(year<startYear||year>endYear)months.addClass('disabled');if(year===startYear)months.slice(0,startMonth).addClass('disabled');if(year===endYear)months.slice(endMonth+1).addClass('disabled');html='';year=parseInt(year/10,10)*10;var yearCont=this.picker.find('.datepicker-years').find('th:eq(1)').text(year+'-'+(year+9)).end().find('td');year-=1;var years=$.map(this.dates,function(d){return d.getUTCFullYear()}),classes;for(var i=-1;i<11;i++){classes=['year'];if(i===-1){classes.push('old')}else if(i===10)classes.push('new');if($.inArray(year,years)!==-1)classes.push('active');if(year<startYear||year>endYear)classes.push('disabled');html+='<span class="'+classes.join(' ')+'">'+year+'</span>';year+=1};yearCont.html(html)},updateNavArrows:function(){if(!this._allow_update)return;var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()){this.picker.find('.prev').css({visibility:'hidden'})}else this.picker.find('.prev').css({visibility:'visible'});if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()){this.picker.find('.next').css({visibility:'hidden'})}else this.picker.find('.next').css({visibility:'visible'});break;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()){this.picker.find('.prev').css({visibility:'hidden'})}else this.picker.find('.prev').css({visibility:'visible'});if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()){this.picker.find('.next').css({visibility:'hidden'})}else this.picker.find('.next').css({visibility:'visible'});break}},click:function(e){e.preventDefault();var target=$(e.target).closest('span, td, th'),year,month,day;if(target.length===1)switch(target[0].nodeName.toLowerCase()){case'th':switch(target[0].className){case'datepicker-switch':this.showMode(1);break;case'prev':case'next':var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className==='prev'?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);this._trigger('changeMonth',this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir);if(this.viewMode===1)this._trigger('changeYear',this.viewDate);break};this.fill();break;case'today':var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);this.showMode(-2);var which=this.o.todayBtn==='linked'?null:'view';this._setDate(date,which);break;case'clear':var element;if(this.isInput){element=this.element}else if(this.component)element=this.element.find('input');if(element)element.val("").change();this.update();this._trigger('changeDate');if(this.o.autoclose)this.hide();break};break;case'span':if(!target.is('.disabled')){this.viewDate.setUTCDate(1);if(target.is('.month')){day=1;month=target.parent().find('span').index(target);year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);this._trigger('changeMonth',this.viewDate);if(this.o.minViewMode===1)this._setDate(UTCDate(year,month,day))}else{day=1;month=0;year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this._trigger('changeYear',this.viewDate);if(this.o.minViewMode===2)this._setDate(UTCDate(year,month,day))};this.showMode(-1);this.fill()};break;case'td':if(target.is('.day')&&!target.is('.disabled')){day=parseInt(target.text(),10)||1;year=this.viewDate.getUTCFullYear();month=this.viewDate.getUTCMonth();if(target.is('.old')){if(month===0){month=11;year-=1}else month-=1}else if(target.is('.new'))if(month===11){month=0;year+=1}else month+=1;this._setDate(UTCDate(year,month,day))};break};if(this.picker.is(':visible')&&this._focused_from)$(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(!date){this.dates.clear()}else if(ix!==-1){this.dates.remove(ix)}else this.dates.push(date);if(typeof this.o.multidate==='number')while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(date,which){if(!which||which==='date')this._toggle_multidate(date&&new Date(date));if(!which||which==='view')this.viewDate=date&&new Date(date);this.fill();this.setValue();this._trigger('changeDate');var element;if(this.isInput){element=this.element}else if(this.component)element=this.element.find('input');if(element)element.change();if(this.o.autoclose&&(!which||which==='date'))this.hide()},moveMonth:function(date,dir){if(!date)return undefined;if(!dir)return date;var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag===1){test=dir===-1?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11)new_month=(new_month+12)%12}else{for(var i=0;i<mag;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!==new_date.getUTCMonth()}};while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)};return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(this.picker.is(':not(:visible)')){if(e.keyCode===27)this.show();return};var dateChanged=false,dir,newDate,newViewDate,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;dir=e.keyCode===37?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir)};if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()};break;case 38:case 40:if(!this.o.keyboardNavigation)break;dir=e.keyCode===38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir*7);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir*7)};if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()};break;case 32:break;case 13:focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(focusDate);dateChanged=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(':visible')){e.preventDefault();if(this.o.autoclose)this.hide()};break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break};if(dateChanged){if(this.dates.length){this._trigger('changeDate')}else this._trigger('clearDate');var element;if(this.isInput){element=this.element}else if(this.component)element=this.element.find('input');if(element)element.change()}},showMode:function(dir){if(dir)this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir));this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).css('display','block');this.updateNavArrows()}};var DateRangePicker=function(element,options){this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i});delete options.inputs;$(this.inputs).datepicker(options).bind('changeDate',$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data('datepicker')});this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()});this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){if(this.updating)return;this.updating=true;var dp=$(e.target).data('datepicker'),new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),l=this.inputs.length;if(i===-1)return;$.each(this.pickers,function(i,p){if(!p.getUTCDate())p.setUTCDate(new_date)});if(new_date<this.dates[i]){while(i>=0&&new_date<this.dates[i])this.pickers[i--].setUTCDate(new_date)}else if(new_date>this.dates[i])while(i<l&&new_date>this.dates[i])this.pickers[i++].setUTCDate(new_date);this.updateDates();delete this.updating},remove:function(){$.map(this.pickers,function(p){p.remove()});delete this.element.data().datepicker}}
function opts_from_el(el,prefix){var data=$(el).data(),out={},inkey,replace=new RegExp('^'+prefix.toLowerCase()+'([A-Z])');prefix=new RegExp('^'+prefix.toLowerCase())
function re_lower(_,a){return a.toLowerCase()};for(var key in data)if(prefix.test(key)){inkey=key.replace(replace,re_lower);out[inkey]=data[key]};return out}
function opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split('-')[0];if(!dates[lang])return};var d=dates[lang];$.each(locale_opts,function(i,k){if(k in d)out[k]=d[k]});return out};var old=$.fn.datepicker;$.fn.datepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data('datepicker'),options=typeof option==='object'&&option;if(!data){var elopts=opts_from_el(this,'date'),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.is('.input-daterange')||opts.inputs){var ropts={inputs:opts.inputs||$this.find('input').toArray()};$this.data('datepicker',(data=new DateRangePicker(this,$.extend(opts,ropts))))}else $this.data('datepicker',(data=new Datepicker(this,opts)))};if(typeof option==='string'&&typeof data[option]==='function'){internal_return=data[option].apply(data,args);if(internal_return!==undefined)return false}});if(internal_return!==undefined){return internal_return}else return this};var defaults=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:'mm/dd/yyyy',keyboardNavigation:true,language:'en',minViewMode:0,multidate:false,multidateSeparator:',',orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0},locale_opts=$.fn.datepicker.locale_opts=['format','rtl','weekStart'];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},DPGlobal={modes:[{clsName:'days',navFnc:'Month',navStep:1},{clsName:'months',navFnc:'FullYear',navStep:1},{clsName:'years',navFnc:'FullYear',navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0))},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,'\0').split('\0'),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0)throw new Error("Invalid date format.");return{separators:separators,parts:parts}},parseDate:function(date,format,language){if(!date)return undefined;if(date instanceof Date)return date;if(typeof format==='string')format=DPGlobal.parseFormat(format);var part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g),part,dir,i;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){date=new Date();for(i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case'd':date.setUTCDate(date.getUTCDate()+dir);break;case'm':date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case'w':date.setUTCDate(date.getUTCDate()+dir*7);break;case'y':date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir);break}};return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0)};parts=date&&date.match(this.nonpunctuation)||[];date=new Date();var parsed={},setters_order=['yyyy','yy','M','MM','m','mm','d','dd'],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2e3+v)},m:function(d,v){if(isNaN(d))return d;v-=1;while(v<0)v+=12;v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}},val,filtered;setters_map.M=setters_map.MM=setters_map.mm=setters_map.m;setters_map.dd=setters_map.d;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!==fparts.length)fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray()
function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m===p};if(parts.length===fparts.length){var cnt;for(i=0,cnt=fparts.length;i<cnt;i++){val=parseInt(parts[i],10);part=fparts[i];if(isNaN(val))switch(part){case'MM':filtered=$(dates[language].months).filter(match_part);val=$.inArray(filtered[0],dates[language].months)+1;break;case'M':filtered=$(dates[language].monthsShort).filter(match_part);val=$.inArray(filtered[0],dates[language].monthsShort)+1;break};parsed[part]=val};var _date,s;for(i=0;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){_date=new Date(date);setters_map[s](_date,parsed[s]);if(!isNaN(_date))date=_date}}};return date},formatDate:function(date,format,language){if(!date)return'';if(typeof format==='string')format=DPGlobal.parseFormat(format);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?'0':'')+val.d;val.mm=(val.m<10?'0':'')+val.m;date=[];var seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<=cnt;i++){if(seps.length)date.push(seps.shift());date.push(val[format.parts[i]])};return date.join('')},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};DPGlobal.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+DPGlobal.headTemplate+'<tbody></tbody>'+DPGlobal.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div></div>';$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this};$(document).on('focus.datepicker.data-api click.datepicker.data-api','[data-provide="datepicker"]',function(e){var $this=$(this);if($this.data('datepicker'))return;e.preventDefault();$this.datepicker('show')});$(function(){$('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery));;
/*!
* TableSorter 2.14.3 min - Client-side table sorting with ease!
* Copyright (c) 2007 Christian Bach
*/
!function(g){g.extend({tablesorter:new function(){function c(){var a=1<arguments.length?Array.prototype.slice.call(arguments):arguments[0];"undefined"!==typeof console&&"undefined"!==typeof console.log?console.log(a):alert(a)}function q(a,b){c(a+" ("+((new Date).getTime()-b.getTime())+"ms)")}function k(a){for(var b in a)return!1;return!0}function p(a,b,d){if(!b)return"";var h=a.config,e=h.textExtraction,n="",n="simple"===e?h.supportsTextContent?b.textContent:g(b).text():"function"===typeof e?e(b, a,d):"object"===typeof e&&e.hasOwnProperty(d)?e[d](b,a,d):h.supportsTextContent?b.textContent:g(b).text();return g.trim(n)}function s(a){var b=a.config,d=b.$tbodies=b.$table.children("tbody:not(."+b.cssInfoBlock+")"),h,e,n,l,w,g,m,x="";if(0===d.length)return b.debug?c("*Empty table!* Not building a parser cache"):"";b.debug&&(m=new Date,c("Detecting parsers for each column"));d=d[0].rows;if(d[0])for(h=[],e=d[0].cells.length,n=0;n<e;n++){l=b.$headers.filter(":not([colspan])");l=l.add(b.$headers.filter('[colspan="1"]')).filter('[data-column="'+ n+'"]:last');w=b.headers[n];g=f.getParserById(f.getData(l,w,"sorter"));b.empties[n]=f.getData(l,w,"empty")||b.emptyTo||(b.emptyToBottom?"bottom":"top");b.strings[n]=f.getData(l,w,"string")||b.stringTo||"max";if(!g)a:{l=a;w=d;g=-1;for(var k=n,u=void 0,A=f.parsers.length,r=!1,s="",u=!0;""===s&&u;)g++,w[g]?(r=w[g].cells[k],s=p(l,r,k),l.config.debug&&c("Checking if value was empty on row "+g+", column: "+k+': "'+s+'"')):u=!1;for(;0<=--A;)if((u=f.parsers[A])&&"text"!==u.id&&u.is&&u.is(s,l,r)){g=u;break a}g= f.getParserById("text")}b.debug&&(x+="column:"+n+"; parser:"+g.id+"; string:"+b.strings[n]+"; empty: "+b.empties[n]+"\n");h.push(g)}b.debug&&(c(x),q("Completed detecting parsers",m));b.parsers=h}function v(a){var b=a.tBodies,d=a.config,h,e,n=d.parsers,l,w,y,m,x,k,u,A=[];d.cache={};if(!n)return d.debug?c("*Empty table!* Not building a cache"):"";d.debug&&(u=new Date);d.showProcessing&&f.isProcessing(a,!0);for(m=0;m<b.length;m++)if(d.cache[m]={row:[],normalized:[]},!g(b[m]).hasClass(d.cssInfoBlock)){h= b[m]&&b[m].rows.length||0;e=b[m].rows[0]&&b[m].rows[0].cells.length||0;for(w=0;w<h;++w)if(x=g(b[m].rows[w]),k=[],x.hasClass(d.cssChildRow))d.cache[m].row[d.cache[m].row.length-1]=d.cache[m].row[d.cache[m].row.length-1].add(x);else{d.cache[m].row.push(x);for(y=0;y<e;++y)l=p(a,x[0].cells[y],y),l=n[y].format(l,a,x[0].cells[y],y),k.push(l),"numeric"===(n[y].type||"").toLowerCase()&&(A[y]=Math.max(Math.abs(l)||0,A[y]||0));k.push(d.cache[m].normalized.length);d.cache[m].normalized.push(k)}d.cache[m].colMax= A}d.showProcessing&&f.isProcessing(a);d.debug&&q("Building cache for "+h+" rows",u)}function z(a,b){var d=a.config,h=d.widgetOptions,e=a.tBodies,n=[],l=d.cache,c,y,m,x,p,u,A,r,s,t,v;if(!k(l)){d.debug&&(v=new Date);for(r=0;r<e.length;r++)if(c=g(e[r]),c.length&&!c.hasClass(d.cssInfoBlock)){p=f.processTbody(a,c,!0);c=l[r].row;y=l[r].normalized;x=(m=y.length)?y[0].length-1:0;for(u=0;u<m;u++)if(t=y[u][x],n.push(c[t]),!d.appender||d.pager&&!(d.pager.removeRows&&h.pager_removeRows||d.pager.ajax))for(s=c[t].length, A=0;A<s;A++)p.append(c[t][A]);f.processTbody(a,p,!1)}d.appender&&d.appender(a,n);d.debug&&q("Rebuilt table",v);b||d.appender||f.applyWidget(a);g(a).trigger("sortEnd",a);g(a).trigger("updateComplete",a)}}function D(a){var b=[],d={},h=0,e=g(a).find("thead:eq(0), tfoot").children("tr"),n,l,c,f,m,k,q,p,t,r;for(n=0;n<e.length;n++)for(m=e[n].cells,l=0;l<m.length;l++){f=m[l];k=f.parentNode.rowIndex;q=k+"-"+f.cellIndex;p=f.rowSpan||1;t=f.colSpan||1;"undefined"===typeof b[k]&&(b[k]=[]);for(c=0;c<b[k].length+ 1;c++)if("undefined"===typeof b[k][c]){r=c;break}d[q]=r;h=Math.max(r,h);g(f).attr({"data-column":r});for(c=k;c<k+p;c++)for("undefined"===typeof b[c]&&(b[c]=[]),q=b[c],f=r;f<r+t;f++)q[f]="x"}a.config.columns=h+1;return d}function B(a){return/^d/i.test(a)||1===a}function E(a){var b=D(a),d,h,e,n,l,w,k,m=a.config;m.headerList=[];m.headerContent=[];m.debug&&(k=new Date);n=m.cssIcon?'<i class="'+(m.cssIcon===f.css.icon?f.css.icon:m.cssIcon+" "+f.css.icon)+'"></i>':"";m.$headers=g(a).find(m.selectorHeaders).each(function(a){h= g(this);d=m.headers[a];m.headerContent[a]=g(this).html();l=m.headerTemplate.replace(/\{content\}/g,g(this).html()).replace(/\{icon\}/g,n);m.onRenderTemplate&&(e=m.onRenderTemplate.apply(h,[a,l]))&&"string"===typeof e&&(l=e);g(this).html('<div class="tablesorter-header-inner">'+l+"</div>");m.onRenderHeader&&m.onRenderHeader.apply(h,[a]);this.column=b[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=B(f.getData(h,d,"sortInitialOrder")||m.sortInitialOrder)?[1,0,2]:[0,1,2];this.count=-1;this.lockedOrder= !1;w=f.getData(h,d,"lockedOrder")||!1;"undefined"!==typeof w&&!1!==w&&(this.order=this.lockedOrder=B(w)?[1,1,1]:[0,0,0]);h.addClass(f.css.header+" "+m.cssHeader);m.headerList[a]=this;h.parent().addClass(f.css.headerRow+" "+m.cssHeaderRow);m.tabIndex&&h.attr("tabindex",0)});I(a);m.debug&&(q("Built headers:",k),c(m.$headers))}function C(a,b,d){var h=a.config;h.$table.find(h.selectorRemove).remove();s(a);v(a);F(h.$table,b,d)}function I(a){var b,d=a.config;d.$headers.each(function(a,e){b="false"===f.getData(e, d.headers[a],"sorter");e.sortDisabled=b;g(e)[b?"addClass":"removeClass"]("sorter-false")})}function G(a){var b,d,h,e=a.config,n=e.sortList,l=[f.css.sortAsc+" "+e.cssAsc,f.css.sortDesc+" "+e.cssDesc],c=g(a).find("tfoot tr").children().removeClass(l.join(" "));e.$headers.removeClass(l.join(" "));h=n.length;for(b=0;b<h;b++)if(2!==n[b][1]&&(a=e.$headers.not(".sorter-false").filter('[data-column="'+n[b][0]+'"]'+(1===h?":last":"")),a.length))for(d=0;d<a.length;d++)a[d].sortDisabled||(a.eq(d).addClass(l[n[b][1]]), c.length&&c.filter('[data-column="'+n[b][0]+'"]').eq(d).addClass(l[n[b][1]]))}function L(a){if(a.config.widthFixed&&0===g(a).find("colgroup").length){var b=g("<colgroup>"),d=g(a).width();g(a.tBodies[0]).find("tr:first").children("td:visible").each(function(){b.append(g("<col>").css("width",parseInt(g(this).width()/d*1E3,10)/10+"%"))});g(a).prepend(b)}}function M(a,b){var d,h,e,n=a.config,c=b||n.sortList;n.sortList=[];g.each(c,function(a,b){d=[parseInt(b[0],10),parseInt(b[1],10)];if(e=n.$headers[d[0]])n.sortList.push(d), h=g.inArray(d[1],e.order),e.count=0<=h?h:d[1]%(n.sortReset?3:2)})}function N(a,b){return a&&a[b]?a[b].type||"":""}function O(a,b,d){var h,e,n,c=a.config,w=!d[c.sortMultiSortKey],k=g(a);k.trigger("sortStart",a);b.count=d[c.sortResetKey]?2:(b.count+1)%(c.sortReset?3:2);c.sortRestart&&(e=b,c.$headers.each(function(){this===e||!w&&g(this).is("."+f.css.sortDesc+",."+f.css.sortAsc)||(this.count=-1)}));e=b.column;if(w){c.sortList=[];if(null!==c.sortForce)for(h=c.sortForce,d=0;d<h.length;d++)h[d][0]!==e&& c.sortList.push(h[d]);h=b.order[b.count];if(2>h&&(c.sortList.push([e,h]),1<b.colSpan))for(d=1;d<b.colSpan;d++)c.sortList.push([e+d,h])}else if(c.sortAppend&&1<c.sortList.length&&f.isValueInArray(c.sortAppend[0][0],c.sortList)&&c.sortList.pop(),f.isValueInArray(e,c.sortList))for(d=0;d<c.sortList.length;d++)n=c.sortList[d],h=c.$headers[n[0]],n[0]===e&&(n[1]=h.order[b.count],2===n[1]&&(c.sortList.splice(d,1),h.count=-1));else if(h=b.order[b.count],2>h&&(c.sortList.push([e,h]),1<b.colSpan))for(d=1;d< b.colSpan;d++)c.sortList.push([e+d,h]);if(null!==c.sortAppend)for(h=c.sortAppend,d=0;d<h.length;d++)h[d][0]!==e&&c.sortList.push(h[d]);k.trigger("sortBegin",a);setTimeout(function(){G(a);H(a);z(a)},1)}function H(a){var b,d,c,e,n,l,g,p,m,x,t,u,s=0,r=a.config,v=r.textSorter||"",z=r.sortList,B=z.length,C=a.tBodies.length;if(!r.serverSideSorting&&!k(r.cache)){r.debug&&(m=new Date);for(d=0;d<C;d++)n=r.cache[d].colMax,p=(l=r.cache[d].normalized)&&l[0]?l[0].length-1:0,l.sort(function(d,l){for(b=0;b<B;b++){e= z[b][0];g=z[b][1];s=0===g;if(r.sortStable&&d[e]===l[e]&&1===B)break;(c=/n/i.test(N(r.parsers,e)))&&r.strings[e]?(c="boolean"===typeof r.string[r.strings[e]]?(s?1:-1)*(r.string[r.strings[e]]?-1:1):r.strings[e]?r.string[r.strings[e]]||0:0,x=r.numberSorter?r.numberSorter(t[e],u[e],s,n[e],a):f["sortNumeric"+(s?"Asc":"Desc")](d[e],l[e],c,n[e],e,a)):(t=s?d:l,u=s?l:d,x="function"===typeof v?v(t[e],u[e],s,e,a):"object"===typeof v&&v.hasOwnProperty(e)?v[e](t[e],u[e],s,e,a):f["sortNatural"+(s?"Asc":"Desc")](d[e], l[e],e,a,r));if(x)return x}return d[p]-l[p]});r.debug&&q("Sorting on "+z.toString()+" and dir "+g+" time",m)}}function J(a,b){var d=a[0].config;d.pager&&!d.pager.ajax&&a.trigger("updateComplete");"function"===typeof b&&b(a[0])}function F(a,b,d){!1===b||a[0].isProcessing?J(a,d):a.trigger("sorton",[a[0].config.sortList,function(){J(a,d)}])}function K(a){var b=a.config,d=b.$table,c,e;b.$headers.find(b.selectorSort).add(b.$headers.filter(b.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter", function(d,c){if(!(1!==(d.which||d.button)&&!/sort|keypress/.test(d.type)||"keypress"===d.type&&13!==d.which||"mouseup"===d.type&&!0!==c&&250<(new Date).getTime()-e)){if("mousedown"===d.type)return e=(new Date).getTime(),"INPUT"===d.target.tagName?"":!b.cancelSelection;b.delayInit&&k(b.cache)&&v(a);var h=(/TH|TD/.test(this.tagName)?g(this):g(this).parents("th, td").filter(":first"))[0];h.sortDisabled||O(a,h,d)}});b.cancelSelection&&b.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none", MozUserSelect:"none"});d.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(d){d.stopPropagation();b.sortList=[];G(a);H(a);z(a)}).bind("updateAll.tablesorter",function(b,d,c){b.stopPropagation();f.refreshWidgets(a,!0,!0);f.restoreHeaders(a);E(a);K(a);C(a,d,c)}).bind("update.tablesorter updateRows.tablesorter",function(b,d,c){b.stopPropagation(); I(a);C(a,d,c)}).bind("updateCell.tablesorter",function(c,e,h,f){c.stopPropagation();d.find(b.selectorRemove).remove();var m,k,q;m=d.find("tbody");c=m.index(g(e).parents("tbody").filter(":first"));var s=g(e).parents("tr").filter(":first");e=g(e)[0];m.length&&0<=c&&(k=m.eq(c).find("tr").index(s),q=e.cellIndex,m=b.cache[c].normalized[k].length-1,b.cache[c].row[a.config.cache[c].normalized[k][m]]=s,b.cache[c].normalized[k][q]=b.parsers[q].format(p(a,e,q),a,e,q),F(d,h,f))}).bind("addRows.tablesorter", function(e,f,g,k){e.stopPropagation();var m=f.filter("tr").length,q=[],v=f[0].cells.length,u=d.find("tbody").index(f.parents("tbody").filter(":first"));b.parsers||s(a);for(e=0;e<m;e++){for(c=0;c<v;c++)q[c]=b.parsers[c].format(p(a,f[e].cells[c],c),a,f[e].cells[c],c);q.push(b.cache[u].row.length);b.cache[u].row.push([f[e]]);b.cache[u].normalized.push(q);q=[]}F(d,g,k)}).bind("sorton.tablesorter",function(b,c,e,h){var f=a.config;b.stopPropagation();d.trigger("sortStart",this);M(a,c);G(a);f.delayInit&& k(f.cache)&&v(a);d.trigger("sortBegin",this);H(a);z(a,h);"function"===typeof e&&e(a)}).bind("appendCache.tablesorter",function(b,d,c){b.stopPropagation();z(a,c);"function"===typeof d&&d(a)}).bind("applyWidgetId.tablesorter",function(d,c){d.stopPropagation();f.getWidgetById(c).format(a,b,b.widgetOptions)}).bind("applyWidgets.tablesorter",function(b,d){b.stopPropagation();f.applyWidget(a,d)}).bind("refreshWidgets.tablesorter",function(b,d,c){b.stopPropagation();f.refreshWidgets(a,d,c)}).bind("destroy.tablesorter", function(b,d,c){b.stopPropagation();f.destroy(a,d,c)})}var f=this;f.version="2.14.3";f.parsers=[];f.widgets=[];f.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc", sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[], empties:{},strings:{},parsers:[]};f.css={table:"tablesorter",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc"};f.log=c;f.benchmark=q;f.construct=function(a){return this.each(function(){var b=g.extend(!0,{},f.defaults,a);!this.hasInitialized&&f.buildTable&&"TABLE"!==this.tagName&&f.buildTable(this,b);f.setup(this, b)})};f.setup=function(a,b){if(!a||!a.tHead||0===a.tBodies.length||!0===a.hasInitialized)return b.debug?c("stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var d="",h=g(a),e=g.metadata;a.hasInitialized=!1;a.isProcessing=!0;a.config=b;g.data(a,"tablesorter",b);b.debug&&g.data(a,"startoveralltimer",new Date);b.supportsTextContent="x"===g("<span>x</span>")[0].textContent;b.supportsDataObject=function(a){a[0]=parseInt(a[0],10);return 1<a[0]||1===a[0]&&4<= parseInt(a[1],10)}(g.fn.jquery.split("."));b.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1};/tablesorter\-/.test(h.attr("class"))||(d=""!==b.theme?" tablesorter-"+b.theme:"");b.$table=h.addClass(f.css.table+" "+b.tableClass+d);b.$tbodies=h.children("tbody:not(."+b.cssInfoBlock+")");b.widgetInit={};E(a);L(a);s(a);b.delayInit||v(a);K(a);b.supportsDataObject&&"undefined"!==typeof h.data().sortlist?b.sortList=h.data().sortlist:e&&h.metadata()&&h.metadata().sortlist&& (b.sortList=h.metadata().sortlist);f.applyWidget(a,!0);0<b.sortList.length?h.trigger("sorton",[b.sortList,{},!b.initWidgets]):b.initWidgets&&f.applyWidget(a);b.showProcessing&&h.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(b){f.isProcessing(a,"sortBegin"===b.type)});a.hasInitialized=!0;a.isProcessing=!1;b.debug&&f.benchmark("Overall initialization time",g.data(a,"startoveralltimer"));h.trigger("tablesorter-initialized",a);"function"=== typeof b.initialized&&b.initialized(a)};f.isProcessing=function(a,b,d){a=g(a);var c=a[0].config;a=d||a.find("."+f.css.header);b?(0<c.sortList.length&&(a=a.filter(function(){return this.sortDisabled?!1:f.isValueInArray(parseFloat(g(this).attr("data-column")),c.sortList)})),a.addClass(f.css.processing+" "+c.cssProcessing)):a.removeClass(f.css.processing+" "+c.cssProcessing)};f.processTbody=function(a,b,d){if(d)return a.isProcessing=!0,b.before('<span class="tablesorter-savemyplace"/>'),d=g.fn.detach? b.detach():b.remove();d=g(a).find("span.tablesorter-savemyplace");b.insertAfter(d);d.remove();a.isProcessing=!1};f.clearTableBody=function(a){g(a)[0].config.$tbodies.empty()};f.restoreHeaders=function(a){var b=a.config;b.$table.find(b.selectorHeaders).each(function(a){g(this).find(".tablesorter-header-inner").length&&g(this).html(b.headerContent[a])})};f.destroy=function(a,b,d){a=g(a)[0];if(a.hasInitialized){f.refreshWidgets(a,!0,!0);var c=g(a),e=a.config,n=c.find("thead:first"),l=n.find("tr."+f.css.headerRow).removeClass(f.css.headerRow+ " "+e.cssHeaderRow),k=c.find("tfoot:first > tr").children("th, td");n.find("tr").not(l).remove();c.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter "));e.$headers.add(k).removeClass([f.css.header,e.cssHeader,e.cssAsc,e.cssDesc,f.css.sortAsc,f.css.sortDesc].join(" ")).removeAttr("data-column");l.find(e.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"); f.restoreHeaders(a);!1!==b&&c.removeClass(f.css.table+" "+e.tableClass+" tablesorter-"+e.theme);a.hasInitialized=!1;"function"===typeof d&&d(a)}};f.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,hex:/^0x[0-9a-f]+$/i};f.sortNatural=function(a,b){if(a===b)return 0;var d,c,e,g,l,k;c=f.regex;if(c.hex.test(b)){d=parseInt(a.match(c.hex),16);e=parseInt(b.match(c.hex),16);if(d<e)return-1;if(d>e)return 1}d=a.replace(c.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/, "").split("\\0");c=b.replace(c.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0");k=Math.max(d.length,c.length);for(l=0;l<k;l++){e=isNaN(d[l])?d[l]||0:parseFloat(d[l])||0;g=isNaN(c[l])?c[l]||0:parseFloat(c[l])||0;if(isNaN(e)!==isNaN(g))return isNaN(e)?1:-1;typeof e!==typeof g&&(e+="",g+="");if(e<g)return-1;if(e>g)return 1}return 0};f.sortNaturalAsc=function(a,b,d,c,e){if(a===b)return 0;d=e.string[e.empties[d]||e.emptyTo];return""===a&&0!==d?"boolean"===typeof d?d?-1:1:-d||-1:""=== b&&0!==d?"boolean"===typeof d?d?1:-1:d||1:f.sortNatural(a,b)};f.sortNaturalDesc=function(a,b,d,c,e){if(a===b)return 0;d=e.string[e.empties[d]||e.emptyTo];return""===a&&0!==d?"boolean"===typeof d?d?-1:1:d||1:""===b&&0!==d?"boolean"===typeof d?d?1:-1:-d||-1:f.sortNatural(b,a)};f.sortText=function(a,b){return a>b?1:a<b?-1:0};f.getTextValue=function(a,b,d){if(d){var c=a?a.length:0,e=d+b;for(d=0;d<c;d++)e+=a.charCodeAt(d);return b*e}return 0};f.sortNumericAsc=function(a,b,d,c,e,g){if(a===b)return 0;g= g.config;e=g.string[g.empties[e]||g.emptyTo];if(""===a&&0!==e)return"boolean"===typeof e?e?-1:1:-e||-1;if(""===b&&0!==e)return"boolean"===typeof e?e?1:-1:e||1;isNaN(a)&&(a=f.getTextValue(a,d,c));isNaN(b)&&(b=f.getTextValue(b,d,c));return a-b};f.sortNumericDesc=function(a,b,d,c,e,g){if(a===b)return 0;g=g.config;e=g.string[g.empties[e]||g.emptyTo];if(""===a&&0!==e)return"boolean"===typeof e?e?-1:1:e||1;if(""===b&&0!==e)return"boolean"===typeof e?e?1:-1:-e||-1;isNaN(a)&&(a=f.getTextValue(a,d,c));isNaN(b)&& (b=f.getTextValue(b,d,c));return b-a};f.sortNumeric=function(a,b){return a-b};f.characterEquivalents={a:"\u00e1\u00e0\u00e2\u00e3\u00e4\u0105\u00e5",A:"\u00c1\u00c0\u00c2\u00c3\u00c4\u0104\u00c5",c:"\u00e7\u0107\u010d",C:"\u00c7\u0106\u010c",e:"\u00e9\u00e8\u00ea\u00eb\u011b\u0119",E:"\u00c9\u00c8\u00ca\u00cb\u011a\u0118",i:"\u00ed\u00ec\u0130\u00ee\u00ef\u0131",I:"\u00cd\u00cc\u0130\u00ce\u00cf",o:"\u00f3\u00f2\u00f4\u00f5\u00f6",O:"\u00d3\u00d2\u00d4\u00d5\u00d6",ss:"\u00df",SS:"\u1e9e",u:"\u00fa\u00f9\u00fb\u00fc\u016f", U:"\u00da\u00d9\u00db\u00dc\u016e"};f.replaceAccents=function(a){var b,d="[",c=f.characterEquivalents;if(!f.characterRegex){f.characterRegexArray={};for(b in c)"string"===typeof b&&(d+=c[b],f.characterRegexArray[b]=RegExp("["+c[b]+"]","g"));f.characterRegex=RegExp(d+"]")}if(f.characterRegex.test(a))for(b in c)"string"===typeof b&&(a=a.replace(f.characterRegexArray[b],b));return a};f.isValueInArray=function(a,b){var d,c=b.length;for(d=0;d<c;d++)if(b[d][0]===a)return!0;return!1};f.addParser=function(a){var b, d=f.parsers.length,c=!0;for(b=0;b<d;b++)f.parsers[b].id.toLowerCase()===a.id.toLowerCase()&&(c=!1);c&&f.parsers.push(a)};f.getParserById=function(a){var b,d=f.parsers.length;for(b=0;b<d;b++)if(f.parsers[b].id.toLowerCase()===a.toString().toLowerCase())return f.parsers[b];return!1};f.addWidget=function(a){f.widgets.push(a)};f.getWidgetById=function(a){var b,d,c=f.widgets.length;for(b=0;b<c;b++)if((d=f.widgets[b])&&d.hasOwnProperty("id")&&d.id.toLowerCase()===a.toLowerCase())return d};f.applyWidget= function(a,b){a=g(a)[0];var d=a.config,c=d.widgetOptions,e=[],k,l,p;d.debug&&(k=new Date);d.widgets.length&&(d.widgets=g.grep(d.widgets,function(a,b){return g.inArray(a,d.widgets)===b}),g.each(d.widgets||[],function(a,b){(p=f.getWidgetById(b))&&p.id&&(p.priority||(p.priority=10),e[a]=p)}),e.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1}),g.each(e,function(e,f){if(f){if(b||!d.widgetInit[f.id])f.hasOwnProperty("options")&&(c=a.config.widgetOptions=g.extend(!0,{},f.options, c)),f.hasOwnProperty("init")&&f.init(a,f,d,c),d.widgetInit[f.id]=!0;!b&&f.hasOwnProperty("format")&&f.format(a,d,c,!1)}}));d.debug&&(l=d.widgets.length,q("Completed "+(!0===b?"initializing ":"applying ")+l+" widget"+(1!==l?"s":""),k))};f.refreshWidgets=function(a,b,d){a=g(a)[0];var h,e=a.config,k=e.widgets,l=f.widgets,q=l.length;for(h=0;h<q;h++)l[h]&&l[h].id&&(b||0>g.inArray(l[h].id,k))&&(e.debug&&c("Refeshing widgets: Removing "+l[h].id),l[h].hasOwnProperty("remove")&&e.widgetInit[l[h].id]&&(l[h].remove(a, e,e.widgetOptions),e.widgetInit[l[h].id]=!1));!0!==d&&f.applyWidget(a,b)};f.getData=function(a,b,d){var c="";a=g(a);var e,f;if(!a.length)return"";e=g.metadata?a.metadata():!1;f=" "+(a.attr("class")||"");"undefined"!==typeof a.data(d)||"undefined"!==typeof a.data(d.toLowerCase())?c+=a.data(d)||a.data(d.toLowerCase()):e&&"undefined"!==typeof e[d]?c+=e[d]:b&&"undefined"!==typeof b[d]?c+=b[d]:" "!==f&&f.match(" "+d+"-")&&(c=f.match(RegExp("\\s"+d+"-([\\w-]+)"))[1]||"");return g.trim(c)};f.formatFloat= function(a,b){if("string"!==typeof a||""===a)return a;var c;a=(b&&b.config?!1!==b.config.usNumberFormat:"undefined"!==typeof b?b:1)?a.replace(/,/g,""):a.replace(/[\s|\.]/g,"").replace(/,/g,".");/^\s*\([.\d]+\)/.test(a)&&(a=a.replace(/^\s*\(([.\d]+)\)/,"-$1"));c=parseFloat(a);return isNaN(c)?g.trim(a):c};f.isDigit=function(a){return isNaN(a)?/^[\-+(]?\d+[)]?$/.test(a.toString().replace(/[,.'"\s]/g,"")):!0}}});var p=g.tablesorter;g.fn.extend({tablesorter:p.construct});p.addParser({id:"text",is:function(){return!0}, format:function(c,q){var k=q.config;c&&(c=g.trim(k.ignoreCase?c.toLocaleLowerCase():c),c=k.sortLocaleCompare?p.replaceAccents(c):c);return c},type:"text"});p.addParser({id:"digit",is:function(c){return p.isDigit(c)},format:function(c,q){var k=p.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),q);return c&&"number"===typeof k?k:c?g.trim(c&&q.config.ignoreCase?c.toLocaleLowerCase():c):c},type:"numeric"});p.addParser({id:"currency",is:function(c){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((c|| "").replace(/[,. ]/g,""))},format:function(c,q){var k=p.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),q);return c&&"number"===typeof k?k:c?g.trim(c&&q.config.ignoreCase?c.toLocaleLowerCase():c):c},type:"numeric"});p.addParser({id:"ipAddress",is:function(c){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(c)},format:function(c,g){var k,t=c?c.split("."):"",s="",v=t.length;for(k=0;k<v;k++)s+=("00"+t[k]).slice(-3);return c?p.formatFloat(s,g):c},type:"numeric"});p.addParser({id:"url",is:function(c){return/^(https?|ftp|file):\/\//.test(c)}, format:function(c){return c?g.trim(c.replace(/(https?|ftp|file):\/\//,"")):c},type:"text"});p.addParser({id:"isoDate",is:function(c){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(c)},format:function(c,g){return c?p.formatFloat(""!==c?(new Date(c.replace(/-/g,"/"))).getTime()||"":"",g):c},type:"numeric"});p.addParser({id:"percent",is:function(c){return/(\d\s*?%|%\s*?\d)/.test(c)&&15>c.length},format:function(c,g){return c?p.formatFloat(c.replace(/%/g,""),g):c},type:"numeric"});p.addParser({id:"usLongDate", is:function(c){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(c)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(c)},format:function(c,g){return c?p.formatFloat((new Date(c.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||"",g):c},type:"numeric"});p.addParser({id:"shortDate",is:function(c){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((c||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(c,g,k,t){if(c){k=g.config; var s=k.headerList[t];t=s.dateFormat||p.getData(s,k.headers[t],"dateFormat")||k.dateFormat;c=c.replace(/\s+/g," ").replace(/[\-.,]/g,"/");"mmddyyyy"===t?c=c.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===t?c=c.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===t&&(c=c.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return c?p.formatFloat((new Date(c)).getTime()||"",g):c},type:"numeric"});p.addParser({id:"time",is:function(c){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(c)}, format:function(c,g){return c?p.formatFloat((new Date("2000/01/01 "+c.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||"",g):c},type:"numeric"});p.addParser({id:"metadata",is:function(){return!1},format:function(c,p,k){c=p.config;c=c.parserMetadataName?c.parserMetadataName:"sortValue";return g(k).metadata()[c]},type:"numeric"});p.addWidget({id:"zebra",priority:90,format:function(c,q,k){var t,s,v,z,D,B,E=RegExp(q.cssChildRow,"i"),C=q.$tbodies;q.debug&&(D=new Date);for(c=0;c<C.length;c++)t=C.eq(c),B=t.children("tr").length, 1<B&&(v=0,t=t.children("tr:visible").not(q.selectorRemove),t.each(function(){s=g(this);E.test(this.className)||v++;z=0===v%2;s.removeClass(k.zebra[z?1:0]).addClass(k.zebra[z?0:1])}));q.debug&&p.benchmark("Applying Zebra widget",D)},remove:function(c,p,k){var t;p=p.$tbodies;var s=(k.zebra||["even","odd"]).join(" ");for(k=0;k<p.length;k++)t=g.tablesorter.processTbody(c,p.eq(k),!0),t.children().removeClass(s),g.tablesorter.processTbody(c,t,!1)}})}(jQuery);
;
/*! tableSorter 2.8+ widgets - updated 12/2/2013 (v2.14.3) */
;(function(k){
var e=k.tablesorter=k.tablesorter||{};
e.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default", footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}};
e.storage=function(b,a,c,f){b=k(b)[0];var d,g,e=!1;d={};g=b.config;var p=k(b);b=f&&f.id||p.attr(f&&f.group||"data-table-group")||b.id||k(".tablesorter").index(p);f=f&&f.url||p.attr(f&&f.page||"data-table-page")||g&&g.fixedUrl||window.location.pathname;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),e=!0,window.localStorage.removeItem("_tmptest")}catch(q){}k.parseJSON&&(e?d=k.parseJSON(localStorage[a]||"{}"):(g=document.cookie.split(/[;\s|=]/),d=k.inArray(a,g)+1,d=0!==d?k.parseJSON(g[d]||"{}"):{}));if((c||""===c)&&window.JSON&&JSON.hasOwnProperty("stringify"))d[f]||(d[f]={}),d[f][b]=c,e?localStorage[a]=JSON.stringify(d):(c=new Date,c.setTime(c.getTime()+31536E6),document.cookie=a+"="+JSON.stringify(d).replace(/\"/g,'"')+"; expires="+c.toGMTString()+ "; path=/");else return d&&d[f]?d[f][b]:{}};
e.addHeaderResizeEvent=function(b,a,c){var f;c=k.extend({},{timer:250},c);var d=b.config,e=d.widgetOptions,h=function(a){e.resize_flag=!0;f=[];d.$headers.each(function(){var a=k(this),b=a.data("savedSizes")||[0,0],c=this.offsetWidth,d=this.offsetHeight;if(c!==b[0]||d!==b[1])a.data("savedSizes",[c,d]),f.push(this)});f.length&&!1!==a&&d.$table.trigger("resize",[f]);e.resize_flag=!1};h(!1);clearInterval(e.resize_timer);if(a)return e.resize_flag=!1;e.resize_timer= setInterval(function(){e.resize_flag||h()},c.timer)};
e.addWidget({id:"uitheme",priority:10,format:function(b,a,c){var f,d,g,h,p=e.themes,q=a.$table,n=a.$headers,l=a.theme||"jui",m=p[l]||p.jui,u=m.sortNone+" "+m.sortDesc+" "+m.sortAsc;a.debug&&(f=new Date);q.hasClass("tablesorter-"+l)&&a.theme!==l&&b.hasInitialized||(""!==m.even&&(c.zebra[0]+=" "+m.even),""!==m.odd&&(c.zebra[1]+=" "+m.odd),q.find("caption").addClass(m.caption),b=q.removeClass(""===a.theme?"":"tablesorter-"+a.theme).addClass("tablesorter-"+ l+" "+m.table).find("tfoot"),b.length&&b.find("tr").addClass(m.footerRow).children("th, td").addClass(m.footerCells),n.addClass(m.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(a){k(this)["mouseenter"===a.type?"addClass":"removeClass"](m.hover)}),n.find(".tablesorter-wrapper").length||n.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),a.cssIcon&&n.find("."+e.css.icon).addClass(m.icons),q.hasClass("hasFilters")&& n.find(".tablesorter-filter-row").addClass(m.filterRow));k.each(n,function(){g=k(this);h=e.css.icon?g.find("."+e.css.icon):g;this.sortDisabled?(g.removeClass(u),h.removeClass(u+" tablesorter-icon "+m.icons)):(d=g.hasClass(e.css.sortAsc)?m.sortAsc:g.hasClass(e.css.sortDesc)?m.sortDesc:g.hasClass(e.css.header)?m.sortNone:"",g[d===m.sortNone?"removeClass":"addClass"](m.active),h.removeClass(u).addClass(d))});a.debug&&e.benchmark("Applying "+l+" theme",f)},remove:function(b,a,c){b=a.$table;a=a.theme|| "jui";c=e.themes[a]||e.themes.jui;var f=b.children("thead").children(),d=c.sortNone+" "+c.sortDesc+" "+c.sortAsc;b.removeClass("tablesorter-"+a+" "+c.table).find(e.css.header).removeClass(c.header);f.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(c.hover+" "+d+" "+c.active).find(".tablesorter-filter-row").removeClass(c.filterRow);f.find(".tablesorter-icon").removeClass(c.icons)}});
e.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(b, a,c){var f,d,g,h,p,q,n,l,m=a.$table,u=a.$tbodies,r=a.sortList,w=r.length,v=c&&c.columns||["primary","secondary","tertiary"],y=v.length-1;n=v.join(" ");a.debug&&(f=new Date);for(g=0;g<u.length;g++)d=e.processTbody(b,u.eq(g),!0),h=d.children("tr"),h.each(function(){p=k(this);if("none"!==this.style.display&&(q=p.children().removeClass(n),r&&r[0]&&(q.eq(r[0][0]).addClass(v[0]),1<w)))for(l=1;l<w;l++)q.eq(r[l][0]).addClass(v[l]||v[y])}),e.processTbody(b,d,!1);b=!1!==c.columns_thead?["thead tr"]:[];!1!== c.columns_tfoot&&b.push("tfoot tr");if(b.length&&(h=m.find(b.join(",")).children().removeClass(n),w))for(l=0;l<w;l++)h.filter('[data-column="'+r[l][0]+'"]').addClass(v[l]||v[y]);a.debug&&e.benchmark("Applying Columns widget",f)},remove:function(b,a,c){var f=a.$tbodies,d=(c.columns||["primary","secondary","tertiary"]).join(" ");a.$headers.removeClass(d);a.$table.children("tfoot").children("tr").children("th, td").removeClass(d);for(a=0;a<f.length;a++)c=e.processTbody(b,f.eq(a),!0),c.children("tr").each(function(){k(this).children().removeClass(d)}), e.processTbody(b,c,!1)}});
e.addWidget({id:"filter",priority:50,options:{filter_anyMatch:!1,filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value"}, format:function(b,a,c){a.$table.hasClass("hasFilters")||(a.parsers||!a.parsers&&c.filter_serversideFiltering)&&e.filter.init(b,a,c)},remove:function(b,a,c){var f,d=a.$tbodies;a.$table.removeClass("hasFilters").unbind("addRows updateCell update updateComplete appendCache search filterStart filterEnd ".split(" ").join(".tsfilter ")).find(".tablesorter-filter-row").remove();for(a=0;a<d.length;a++)f=e.processTbody(b,d.eq(a),!0),f.children().removeClass(c.filter_filteredRow).show(),e.processTbody(b,f, !1);c.filter_reset&&k(document).undelegate(c.filter_reset,"click.tsfilter")}});
e.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g},types:{regex:function(b,a,c,f){if(e.filter.regex.regex.test(a)){var d;b=e.filter.regex.regex.exec(a);try{d=RegExp(b[1],b[2]).test(f)}catch(g){d=!1}return d}return null},exact:function(b,a,c,f){return e.filter.regex.exact.test(a)? a.replace(e.filter.regex.exact,"")==f:null},notMatch:function(b,a,c,f,d,e,h,p){return/^\!/.test(a)?(a=a.replace("!",""),b=f.search(k.trim(a)),""===a?!0:!(p.filter_startsWith?0===b:0<=b)):null},operators:function(b,a,c,f,d,g,h,k,q){if(/^[<>]=?/.test(a)){var n,l;n=h.config;b=e.formatFloat(a.replace(e.filter.regex.operators,""),h);c=n.parsers[g];k=b;if(q[g]||"numeric"===c.type)n=c.format(""+a.replace(e.filter.regex.operators,""),h,n.$headers.eq(g),g),b="number"!==typeof b||""===n||isNaN(n)?b:n;n=!q[g]&& "numeric"!==c.type||isNaN(b)||!d?isNaN(f)?e.formatFloat(f.replace(e.filter.regex.nondigit,""),h):e.formatFloat(f,h):d;/>/.test(a)&&(l=/>=/.test(a)?n>=b:n>b);/</.test(a)&&(l=/<=/.test(a)?n<=b:n<b);l||""!==k||(l=!0);return l}return null},and:function(b,a,c,f){if(/\s+(AND|&&)\s+/g.test(b)){b=a.split(/(?:\s+(?:and|&&)\s+)/g);a=0<=f.search(k.trim(b[0]));for(c=b.length-1;a&&c;)a=a&&0<=f.search(k.trim(b[c])),c--;return a}return null},range:function(b,a,c,f,d,g,h,k,q){if(/\s+(-|to)\s+/.test(a)){b=h.config; var n=a.split(/(?: - | to )/);c=e.formatFloat(n[0].replace(e.filter.regex.nondigit,""),h);k=e.formatFloat(n[1].replace(e.filter.regex.nondigit,""),h);if(q[g]||"numeric"===b.parsers[g].type)a=b.parsers[g].format(""+n[0],h,b.$headers.eq(g),g),c=""===a||isNaN(a)?c:a,a=b.parsers[g].format(""+n[1],h,b.$headers.eq(g),g),k=""===a||isNaN(a)?k:a;a=!q[g]&&"numeric"!==b.parsers[g].type||isNaN(c)||isNaN(k)?isNaN(f)?e.formatFloat(f.replace(e.filter.regex.nondigit,""),h):e.formatFloat(f,h):d;c>k&&(f=c,c=k,k=f); return a>=c&&a<=k||""===c||""===k}return null},wild:function(b,a,c,f,d,e,h){return/[\?|\*]/.test(a)||/\s+OR\s+/.test(b)?(b=h.config,a=a.replace(/\s+OR\s+/gi,"|"),!b.$headers.filter('[data-column="'+e+'"]:last').hasClass("filter-match")&&/\|/.test(a)&&(a="^("+a+")$"),RegExp(a.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(f)):null},fuzzy:function(b,a,c,f){if(/^~/.test(a)){b=0;c=f.length;var d=a.slice(1);for(a=0;a<c;a++)f[a]===d[b]&&(b+=1);return b===d.length?!0:!1}return null}},init:function(b, a,c){var f,d,g,h,p,q;a.debug&&(q=new Date);a.$table.addClass("hasFilters");e.filter.regex.child=RegExp(a.cssChildRow);e.filter.regex.filtered=RegExp(c.filter_filteredRow);!1!==c.filter_columnFilters&&a.$headers.filter(".filter-false").length!==a.$headers.length&&e.filter.buildRow(b,a,c);a.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(".tsfilter "),function(c,d){/(search|filterReset|filterEnd)/.test(c.type)||(c.stopPropagation(), e.filter.buildDefault(b,!0));"filterReset"===c.type&&e.filter.searching(b,[]);"filterEnd"===c.type?e.filter.buildDefault(b,!0):(d="search"===c.type?d:"updateComplete"===c.type?a.$table.data("lastSearch"):"",e.filter.searching(b,d));return!1});e.filter.bindSearch(b,a.$table.find("input.tablesorter-filter"));c.filter_reset&&k(document).delegate(c.filter_reset,"click.tsfilter",function(){a.$table.trigger("filterReset")});if(c.filter_functions)for(h in c.filter_functions)if(c.filter_functions.hasOwnProperty(h)&& "string"===typeof h)if(g=a.$headers.filter('[data-column="'+h+'"]:last'),f="",!0===c.filter_functions[h]&&!g.hasClass("filter-false"))e.filter.buildSelect(b,h);else if("string"===typeof h&&!g.hasClass("filter-false")){for(d in c.filter_functions[h])"string"===typeof d&&(f+=""===f?'<option value="">'+(g.data("placeholder")||g.attr("data-placeholder")||"")+"</option>":"",f+='<option value="'+d+'">'+d+"</option>");a.$table.find("thead").find('select.tablesorter-filter[data-column="'+h+'"]').append(f)}e.filter.buildDefault(b, !0);a.$table.find("select.tablesorter-filter").bind("change search",function(a,c){e.filter.checkFilters(b,c)});c.filter_hideFilters&&e.filter.hideFilters(b,a);a.showProcessing&&a.$table.bind("filterStart.tsfilter filterEnd.tsfilter",function(c,d){g=d?a.$table.find("."+e.css.header).filter("[data-column]").filter(function(){return""!==d[k(this).data("column")]}):"";e.isProcessing(b,"filterStart"===c.type,d?g:"")});a.debug&&e.benchmark("Applying Filter widget",q);a.$table.bind("tablesorter-initialized pagerInitialized", function(){p=e.filter.setDefaults(b,a,c)||[];p.length&&e.setFilters(b,p,!0);e.filter.checkFilters(b,p)});c.filter_Initialized=!0;a.$table.trigger("filterInit")},setDefaults:function(b,a,c){var f,d=[],g=a.columns;c.filter_saveFilters&&e.storage&&(d=e.storage(b,"tablesorter-filters")||[],(f=k.isArray(d))&&""===d.join("")||!f)&&(d=[]);if(!d.length)for(f=0;f<g;f++)d[f]=a.$headers.filter('[data-column="'+f+'"]:last').attr(c.filter_defaultAttrib)||d[f];k(b).data("lastSearch",d);return d},buildRow:function(b, a,c){var f,d,g,h=a.columns;d='<tr class="tablesorter-filter-row">';for(b=0;b<h;b++)d+="<td></td>";a.$filters=k(d+"</tr>").appendTo(a.$table.find("thead").eq(0)).find("td");for(b=0;b<h;b++)f=a.$headers.filter('[data-column="'+b+'"]:last'),d=c.filter_functions&&c.filter_functions[b]&&"function"!==typeof c.filter_functions[b]||f.hasClass("filter-select"),g=e.getData?"false"===e.getData(f[0],a.headers[b],"filter"):a.headers[b]&&a.headers[b].hasOwnProperty("filter")&&!1===a.headers[b].filter||f.hasClass("filter-false"), d?d=k("<select>").appendTo(a.$filters.eq(b)):(c.filter_formatter&&k.isFunction(c.filter_formatter[b])?((d=c.filter_formatter[b](a.$filters.eq(b),b))&&0===d.length&&(d=a.$filters.eq(b).children("input")),d&&(0===d.parent().length||d.parent().length&&d.parent()[0]!==a.$filters[b])&&a.$filters.eq(b).append(d)):d=k('<input type="search">').appendTo(a.$filters.eq(b)),d&&d.attr("placeholder",f.data("placeholder")||f.attr("data-placeholder")||"")),d&&(d.addClass("tablesorter-filter "+c.filter_cssFilter).attr("data-column", b),g&&(d.addClass("disabled")[0].disabled=!0))},bindSearch:function(b,a){b=k(b)[0];var c,f=b.config.widgetOptions;a.unbind("keyup search filterReset").bind("keyup search",function(d,g){var h=k(this);if(27===d.which)this.value="";else if("number"===typeof f.filter_liveSearch&&this.value.length<f.filter_liveSearch&&""!==this.value||"keyup"===d.type&&(32>d.which&&8!==d.which&&!0===f.filter_liveSearch&&13!==d.which||37<=d.which&&40>=d.which||13!==d.which&&!1===f.filter_liveSearch))return;h.hasClass("tablesorter-filter")&& !h.hasClass("tablesorter-external-filter")?c=g:(c=[],a.each(function(){c[k(this).data("column")||0]=k(this).val()}));e.filter.searching(b,g,c)}).bind("filterReset",function(){a.val("")})},checkFilters:function(b,a){var c=b.config,f=c.widgetOptions,d=k.isArray(a),g=d?a:e.getFilters(b),h=(g||[]).join("");d&&e.setFilters(b,g);f.filter_hideFilters&&c.$table.find(".tablesorter-filter-row").trigger(""===h?"mouseleave":"mouseenter");if(c.lastCombinedFilter!==h||!1===a)if(c.$table.trigger("filterStart",[g]), c.showProcessing)setTimeout(function(){e.filter.findRows(b,g,h);return!1},30);else return e.filter.findRows(b,g,h),!1},hideFilters:function(b,a){var c,f,d;a.$table.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(a){c=k(this);clearTimeout(d);d=setTimeout(function(){/enter|over/.test(a.type)?c.removeClass("hideme"):k(document.activeElement).closest("tr")[0]!==c[0]&&""===e.getFilters(b).join("")&&c.addClass("hideme")},200)}).find("input, select").bind("focus blur", function(a){f=k(this).closest("tr");clearTimeout(d);d=setTimeout(function(){if(""===e.getFilters(b).join(""))f["focus"===a.type?"removeClass":"addClass"]("hideme")},200)})},findRows:function(b,a,c){if(b.config.lastCombinedFilter!==c){var f,d,g,h,p,q,n,l,m,u,r,w,v,y,A,z,B,C,x,E,t=b.config,s=t.widgetOptions,G=t.columns,D=t.$tbodies,H=["range","notMatch","operators"],F=t.$headers.map(function(a){return e.getData?"parsed"===e.getData(t.$headers.filter('[data-column="'+a+'"]:last'),t.headers[a],"filter"): k(this).hasClass("filter-parsed")}).get();t.debug&&(E=new Date);for(p=0;p<D.length;p++)if(!D.eq(p).hasClass(e.css.info)){q=e.processTbody(b,D.eq(p),!0);g=q.children("tr").not("."+t.cssChildRow).not(t.selectorRemove);d=g.length;if(""===c||s.filter_serversideFiltering)q.children().show().removeClass(s.filter_filteredRow);else for(B=!0,y=t.lastSearch||t.$table.data("lastSearch")||[],k.each(a,function(a,b){B=0===(b||"").indexOf(y[a]||"")&&B&&!/(\s+or\s+|\|)/g.test(b||"")}),B&&0===g.filter(":visible").length&& (B=!1),h=0;h<d;h++)if(m=g[h].className,!(e.filter.regex.child.test(m)||B&&e.filter.regex.filtered.test(m))){x=!0;m=g.eq(h).nextUntil("tr:not(."+t.cssChildRow+")");u=m.length&&s.filter_childRows?m.text():"";u=s.filter_ignoreCase?u.toLocaleLowerCase():u;n=g.eq(h).children("td");for(l=0;l<G;l++)if(a[l]||s.filter_anyMatch){f=t.cache[p].normalized[h][l];s.filter_useParsedData||F[l]?r=f:(r=k.trim(n.eq(l).text()),r=t.sortLocaleCompare?e.replaceAccents(r):r);w=!e.filter.regex.type.test(typeof r)&&s.filter_ignoreCase? r.toLocaleLowerCase():r;z=x;if("undefined"===typeof a[l]||null===a[l])a[l]=s.filter_anyMatch?c:a[l];a[l]=t.sortLocaleCompare?e.replaceAccents(a[l]):a[l];v=s.filter_ignoreCase?a[l].toLocaleLowerCase():a[l];s.filter_functions&&s.filter_functions[l]?!0===s.filter_functions[l]?z=t.$headers.filter('[data-column="'+l+'"]:last').hasClass("filter-match")?0<=w.search(v):a[l]===r:"function"===typeof s.filter_functions[l]?z=s.filter_functions[l](r,f,a[l],l,g.eq(h)):"function"===typeof s.filter_functions[l][a[l]]&& (z=s.filter_functions[l][a[l]](r,f,a[l],l,g.eq(h))):(C=null,k.each(e.filter.types,function(c,d){if(!s.filter_anyMatch||s.filter_anyMatch&&0>k.inArray(c,H))if(A=d(a[l],v,r,w,f,l,b,s,F),null!==A)return C=A,!1}),null!==C?z=C:(r=(w+u).indexOf(v),z=!s.filter_startsWith&&0<=r||s.filter_startsWith&&0===r));if(s.filter_anyMatch){if(x=z)break}else x=z?x:!1}g[h].style.display=x?"":"none";g.eq(h)[x?"removeClass":"addClass"](s.filter_filteredRow);if(m.length){if(t.pager&&t.pager.countChildRows||s.pager_countChildRows)m[x? "removeClass":"addClass"](s.filter_filteredRow);m.toggle(x)}}e.processTbody(b,q,!1)}t.lastCombinedFilter=c;t.lastSearch=a;t.$table.data("lastSearch",a);s.filter_saveFilters&&e.storage&&e.storage(b,"tablesorter-filters",a);t.debug&&e.benchmark("Completed filter widget search",E);t.$table.trigger("applyWidgets");t.$table.trigger("filterEnd")}},buildSelect:function(b,a,c,f){a=parseInt(a,10);var d,g,h;b=b.config;var p=b.widgetOptions,q=b.$tbodies,n=[],l=b.$headers.filter('[data-column="'+a+'"]:last'), m='<option value="">'+(l.data("placeholder")||l.attr("data-placeholder")||"")+"</option>";for(g=0;g<q.length;g++)for(h=b.cache[g].row.length,d=0;d<h;d++)f&&b.cache[g].row[d][0].className.match(p.filter_filteredRow)||(p.filter_useParsedData?n.push(""+b.cache[g].normalized[d][a]):(l=b.cache[g].row[d][0].cells[a])&&n.push(k.trim(l.textContent||l.innerText||k(l).text())));n=k.grep(n,function(a,b){return k.inArray(a,n)===b});n=e.sortNatural?n.sort(function(a,b){return e.sortNatural(a,b)}):n.sort(!0);d= b.$table.find("thead").find('select.tablesorter-filter[data-column="'+a+'"]').val();for(f=0;f<n.length;f++)g=n[f].replace(/\"/g,"&quot;"),m+=""!==n[f]?'<option value="'+g+'"'+(d===g?' selected="selected"':"")+">"+n[f]+"</option>":"";b.$table.find("thead").find('select.tablesorter-filter[data-column="'+a+'"]')[c?"html":"append"](m)},buildDefault:function(b,a){var c,f,d=b.config,g=d.widgetOptions,h=d.columns;for(c=0;c<h;c++)f=d.$headers.filter('[data-column="'+c+'"]:last'),(f.hasClass("filter-select")|| g.filter_functions&&!0===g.filter_functions[c])&&!f.hasClass("filter-false")&&(g.filter_functions||(g.filter_functions={}),g.filter_functions[c]=!0,e.filter.buildSelect(b,c,a,f.hasClass(g.filter_onlyAvail)))},searching:function(b,a,c){if("undefined"===typeof a||!0===a||c){var f=b.config.widgetOptions;clearTimeout(f.searchTimer);f.searchTimer=setTimeout(function(){e.filter.checkFilters(b,c||a)},f.filter_liveSearch?f.filter_searchDelay:10)}else e.filter.checkFilters(b,a)}};
e.getFilters=function(b){var a= b?k(b)[0].config:{};return a&&a.widgetOptions&&!a.widgetOptions.filter_columnFilters?k(b).data("lastSearch"):a&&a.$filters?a.$filters.map(function(a,b){return k(b).find(".tablesorter-filter").val()||""}).get()||[]:!1};
e.setFilters=function(b,a,c){b=k(b);var e=b.length?b[0].config:{},e=e&&e.$filters?e.$filters.each(function(b,c){k(c).find(".tablesorter-filter").val(a[b]||"")}).trigger("change.tsfilter")||!1:!1;c&&b.trigger("search",[a,!1]);return!!e};
e.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"", stickyHeaders_offset:0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(b,a,c){if(!a.$table.hasClass("hasStickyHeaders")){var f,d=a.$table,g=k(window),h=d.children("thead:first"),p=h.children("tr").not(".sticky-false").children(),q=d.find("tfoot"),n=isNaN(c.stickyHeaders_offset)?k(c.stickyHeaders_offset):"",l=n.length?n.height()||0:parseInt(c.stickyHeaders_offset,10)||0,m=c.$sticky=d.clone().addClass("containsStickyHeaders").css({position:"fixed", margin:0,top:l,visibility:"hidden",zIndex:c.stickyHeaders_zIndex?c.stickyHeaders_zIndex:2}),u=m.children("thead:first").addClass("tablesorter-stickyHeader "+c.stickyHeaders),r,w="",v=0,y="collapse"!==d.css("border-collapse")&&!/(webkit|msie)/i.test(navigator.userAgent),A=function(){l=n.length?n.height()||0:parseInt(c.stickyHeaders_offset,10)||0;v=0;y&&(v=2*parseInt(p.eq(0).css("border-left-width"),10));m.css({left:h.offset().left-g.scrollLeft()-v,width:d.width()});r.filter(":visible").each(function(b){b= p.filter(":visible").eq(b);var c=y&&k(this).attr("data-column")===""+parseInt(a.columns/2,10)?1:0;k(this).css({width:b.width()-v,height:b.height()}).find(".tablesorter-header-inner").width(b.find(".tablesorter-header-inner").width()-c)})};m.attr("id")&&(m[0].id+=c.stickyHeaders_cloneId);m.find("thead:gt(0), tr.sticky-false, tbody, tfoot").remove();c.stickyHeaders_includeCaption?m.find("caption").css("margin-left","-1px"):m.find("caption").remove();r=u.children().children();m.css({height:0,width:0, padding:0,margin:0,border:0});r.find(".tablesorter-resizer").remove();d.addClass("hasStickyHeaders").bind("sortEnd.tsSticky",function(){p.filter(":visible").each(function(b){f=r.filter(":visible").eq(b).attr("class",k(this).attr("class")).removeClass(e.css.processing+" "+a.cssProcessing);a.cssIcon&&f.find("."+e.css.icon).attr("class",k(this).find("."+e.css.icon).attr("class"))})}).bind("pagerComplete.tsSticky",function(){A()});p.find(a.selectorSort).add(a.$headers.filter(a.selectorSort)).each(function(b){var c= k(this);b=u.children("tr.tablesorter-headerRow").children().eq(b).bind("mouseup",function(a){c.trigger(a,!0)});a.cancelSelection&&b.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})});d.after(m);g.bind("scroll.tsSticky resize.tsSticky",function(a){if(d.is(":visible")){var b=d.offset(),e=c.stickyHeaders_includeCaption?0:d.find("caption").outerHeight(!0),e=g.scrollTop()+l-e,f=d.height()-(m.height()+(q.height()||0)),b=e>b.top&&e<b.top+f?"visible":"hidden"; m.removeClass("tablesorter-sticky-visible tablesorter-sticky-hidden").addClass("tablesorter-sticky-"+b).css({left:h.offset().left-g.scrollLeft()-v,visibility:b});if(b!==w||"resize"===a.type)A(),w=b}});c.stickyHeaders_addResizeEvent&&e.addHeaderResizeEvent(b);d.hasClass("hasFilters")&&(d.bind("filterEnd",function(){k(document.activeElement).closest("thead")[0]!==u[0]&&u.find(".tablesorter-filter-row").children().each(function(b){k(this).find(".tablesorter-filter").val(a.$filters.find(".tablesorter-filter").eq(b).val())})}), e.filter.bindSearch(d,r.find(".tablesorter-filter").addClass("tablesorter-external-filter")));d.trigger("stickyHeadersInit")}},remove:function(b,a,c){a.$table.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find(".tablesorter-stickyHeader").remove();c.$sticky&&c.$sticky.length&&c.$sticky.remove();k(".hasStickyHeaders").length||k(window).unbind("scroll.tsSticky resize.tsSticky");e.addHeaderResizeEvent(b,!1)}});
e.addWidget({id:"resizable",priority:40,options:{resizable:!0, resizable_addLastColumn:!1},format:function(b,a,c){if(!a.$table.hasClass("hasResizable")){a.$table.addClass("hasResizable");var f,d,g,h,p={},q=a.$table,n=0,l=null,m=null,u=20>Math.abs(q.parent().width()-q.width()),r=function(){e.storage&&l&&(p[l.index()]=l.width(),p[m.index()]=m.width(),l.width(p[l.index()]),m.width(p[m.index()]),!1!==c.resizable&&e.storage(b,"tablesorter-resizable",p));n=0;l=m=null;k(window).trigger("resize")};if(p=e.storage&&!1!==c.resizable?e.storage(b,"tablesorter-resizable"): {})for(h in p)!isNaN(h)&&h<a.$headers.length&&a.$headers.eq(h).width(p[h]);f=q.children("thead:first").children("tr");f.children().each(function(){var b;b=k(this);h=b.attr("data-column");b="false"===e.getData(b,a.headers[h],"resizable");f.children().filter('[data-column="'+h+'"]')[b?"addClass":"removeClass"]("resizable-false")});f.each(function(){g=k(this).children().not(".resizable-false");k(this).find(".tablesorter-wrapper").length||g.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'); c.resizable_addLastColumn||(g=g.slice(0,-1));d=d?d.add(g):g});d.each(function(){var a=k(this),b=parseInt(a.css("padding-right"),10)+10;a.find(".tablesorter-wrapper").append('<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;z-index:1;right:-'+b+'px;top:0;height:100%;width:20px;"></div>')}).bind("mousemove.tsresize",function(a){if(0!==n&&l){var b=a.pageX-n,c=l.width();l.width(c+b);l.width()!==c&&u&&m.width(m.width()-b);n=a.pageX}}).bind("mouseup.tsresize",function(){r()}).find(".tablesorter-resizer,.tablesorter-resizer-grip").bind("mousedown", function(b){l=k(b.target).closest("th");var c=a.$headers.filter('[data-column="'+l.attr("data-column")+'"]');1<c.length&&(l=l.add(c));m=b.shiftKey?l.parent().find("th").not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0);n=b.pageX});q.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){r()}).bind("contextmenu.tsresize",function(){e.resizableReset(b);var a=k.isEmptyObject?k.isEmptyObject(p):!0;p={};return a})}},remove:function(b,a){a.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-resizer,.tablesorter-resizer-grip").remove(); e.resizableReset(b)}});
e.resizableReset=function(b){b.config.$headers.not(".resizable-false").css("width","");e.storage&&e.storage(b,"tablesorter-resizable",{})};
e.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(b,a,c,e){a.format(b,c,e,!0)},format:function(b,a,c,f){var d,g=a.$table;c=!1!==c.saveSort;var h={sortList:a.sortList};a.debug&&(d=new Date);g.hasClass("hasSaveSort")?c&&b.hasInitialized&&e.storage&&(e.storage(b,"tablesorter-savesort",h),a.debug&&e.benchmark("saveSort widget: Saving last sort: "+ a.sortList,d)):(g.addClass("hasSaveSort"),h="",e.storage&&(h=(c=e.storage(b,"tablesorter-savesort"))&&c.hasOwnProperty("sortList")&&k.isArray(c.sortList)?c.sortList:"",a.debug&&e.benchmark('saveSort: Last sort loaded: "'+h+'"',d),g.bind("saveSortReset",function(a){a.stopPropagation();e.storage(b,"tablesorter-savesort","")})),f&&h&&0<h.length?a.sortList=h:b.hasInitialized&&h&&0<h.length&&g.trigger("sorton",[h]))},remove:function(b){e.storage&&e.storage(b,"tablesorter-savesort","")}})
})(jQuery);
;